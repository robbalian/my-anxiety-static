(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{8741:function(e,t,r){e.exports=r(1296)},4313:function(e,t,r){"use strict";var i=r(6602),n=r(1903),a=r(1452),s=r(6733),o=r(9610),u=r(2144),l=r(4371),c=r(6591),d=r(4813),h=r(2477);e.exports=function(e){return new Promise(function(t,r){var p,f=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(f)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+_)}var w=o(e.baseURL,e.url);function O(){if(b){var i="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null;n(function(e){t(e),g()},function(e){r(e),g()},{data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:i,config:e,request:b}),b=null}}if(b.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(O)},b.onabort=function(){b&&(r(c("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){r(c("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},i.isStandardBrowserEnv()){var P=(e.withCredentials||l(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;P&&(m[e.xsrfHeaderName]=P)}"setRequestHeader"in b&&i.forEach(m,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(r(!e||e&&e.type?new h("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),b.send(f)})}},1296:function(e,t,r){"use strict";var i=r(6602),n=r(0),a=r(3178),s=r(5171),o=function e(t){var r=new a(t),o=n(a.prototype.request,r);return i.extend(o,a.prototype,r),i.extend(o,r),o.create=function(r){return e(s(t,r))},o}(r(8438));o.Axios=a,o.Cancel=r(2477),o.CancelToken=r(3186),o.isCancel=r(4154),o.VERSION=r(4488).version,o.all=function(e){return Promise.all(e)},o.spread=r(2803),o.isAxiosError=r(7562),e.exports=o,e.exports.default=o},2477:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},3186:function(e,t,r){"use strict";var i=r(2477);function n(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;this.promise.then(function(e){if(r._listeners){var t,i=r._listeners.length;for(t=0;t<i;t++)r._listeners[t](e);r._listeners=null}}),this.promise.then=function(e){var t,i=new Promise(function(e){r.subscribe(e),t=e}).then(e);return i.cancel=function(){r.unsubscribe(t)},i},e(function(e){r.reason||(r.reason=new i(e),t(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},4154:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},3178:function(e,t,r){"use strict";var i=r(6602),n=r(6733),a=r(371),s=r(7118),o=r(5171),u=r(190),l=u.validators;function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r,i=t.transitional;void 0!==i&&u.assertOptions(i,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(a=a&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!a){var d=[s,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(c),r=Promise.resolve(t);d.length;)r=r.then(d.shift(),d.shift());return r}for(var h=t;n.length;){var p=n.shift(),f=n.shift();try{h=p(h)}catch(e){f(e);break}}try{r=s(h)}catch(e){return Promise.reject(e)}for(;c.length;)r=r.then(c.shift(),c.shift());return r},c.prototype.getUri=function(e){return n((e=o(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}}),i.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,r,i){return this.request(o(i||{},{method:e,url:t,data:r}))}}),e.exports=c},371:function(e,t,r){"use strict";var i=r(6602);function n(){this.handlers=[]}n.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},9610:function(e,t,r){"use strict";var i=r(1376),n=r(6282);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},6591:function(e,t,r){"use strict";var i=r(7457);e.exports=function(e,t,r,n,a){return i(Error(e),t,r,n,a)}},7118:function(e,t,r){"use strict";var i=r(6602),n=r(9573),a=r(4154),s=r(8438),o=r(2477);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return u(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!a(t)&&(u(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},7457:function(e){"use strict";e.exports=function(e,t,r,i,n){return e.config=t,r&&(e.code=r),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},5171:function(e,t,r){"use strict";var i=r(6602);e.exports=function(e,t){t=t||{};var r={};function n(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function a(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function s(e){if(!i.isUndefined(t[e]))return n(void 0,t[e])}function o(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function u(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return i.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=l[e]||a,n=t(e);i.isUndefined(n)&&t!==u||(r[e]=n)}),r}},1903:function(e,t,r){"use strict";var i=r(6591);e.exports=function(e,t,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(i("Request failed with status code "+r.status,r.config,null,r.request,r))}},9573:function(e,t,r){"use strict";var i=r(6602),n=r(8438);e.exports=function(e,t,r){var a=this||n;return i.forEach(r,function(r){e=r.call(a,e,t)}),e}},8438:function(e,t,r){"use strict";var i,n=r(2040),a=r(6602),s=r(9668),o=r(7457),u=r(4813),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var d={transitional:u,adapter:("undefined"!=typeof XMLHttpRequest?i=r(4313):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(i=r(4313)),i),transformRequest:[function(e,t){return(s(t,"Accept"),s(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,r){if(a.isString(e))try{return(0,JSON.parse)(e),a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||i&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],function(e){d.headers[e]={}}),a.forEach(["post","put","patch"],function(e){d.headers[e]=a.merge(l)}),e.exports=d},4813:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},4488:function(e){e.exports={version:"0.26.1"}},0:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r)}}},6733:function(e,t,r){"use strict";var i=r(6602);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;if(r)a=r(t);else if(i.isURLSearchParams(t))a=t.toString();else{var a,s=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))}))}),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},6282:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},1452:function(e,t,r){"use strict";var i=r(6602);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,r,n,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),i.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),i.isString(n)&&o.push("path="+n),i.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1376:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},7562:function(e,t,r){"use strict";var i=r(6602);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},4371:function(e,t,r){"use strict";var i=r(6602);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=i.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},9668:function(e,t,r){"use strict";var i=r(6602);e.exports=function(e,t){i.forEach(e,function(r,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[i])})}},2144:function(e,t,r){"use strict";var i=r(6602),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,s={};return e&&i.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),r=i.trim(e.substr(a+1)),t&&!(s[t]&&n.indexOf(t)>=0)&&("set-cookie"===t?s[t]=(s[t]?s[t]:[]).concat([r]):s[t]=s[t]?s[t]+", "+r:r)}),s}},2803:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},190:function(e,t,r){"use strict";var i=r(4488).version,n={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var a={};n.transitional=function(e,t,r){function n(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw Error(n(i," has been removed"+(t?" in "+t:"")));return t&&!a[i]&&(a[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw TypeError("options must be an object");for(var i=Object.keys(e),n=i.length;n-- >0;){var a=i[n],s=t[a];if(s){var o=e[a],u=void 0===o||s(o,a,e);if(!0!==u)throw TypeError("option "+a+" must be "+u);continue}if(!0!==r)throw Error("Unknown option "+a)}},validators:n}},6602:function(e,t,r){"use strict";var i=r(0),n=Object.prototype.toString;function a(e){return Array.isArray(e)}function s(e){return void 0===e}function o(e){return"[object ArrayBuffer]"===n.call(e)}function u(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===n.call(e)}function d(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}}e.exports={isArray:a,isArrayBuffer:o,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===n.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&o(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===n.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function r(r,i){l(t[i])&&l(r)?t[i]=e(t[i],r):l(r)?t[i]=e({},r):a(r)?t[i]=r.slice():t[i]=r}for(var i=0,n=arguments.length;i<n;i++)d(arguments[i],r);return t},extend:function(e,t,r){return d(t,function(t,n){r&&"function"==typeof t?e[n]=i(t,r):e[n]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},216:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],i=t[1];return(r+i)*3/4-i},t.toByteArray=function(e){var t,r,a=u(e),s=a[0],o=a[1],l=new n((s+o)*3/4-o),c=0,d=o>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a=[],s=0,o=i-n;s<o;s+=16383)a.push(function(e,t,i){for(var n,a=[],s=t;s<i;s+=3)a.push(r[(n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===n?a.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&a.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2204:function(e){"use strict";let t=/[\p{Lu}]/u,r=/[\p{Ll}]/u,i=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,s=RegExp("^"+a.source),o=RegExp(a.source+n.source,"gu"),u=RegExp("\\d+"+n.source,"gu"),l=(e,i,n)=>{let a=!1,s=!1,o=!1;for(let u=0;u<e.length;u++){let l=e[u];a&&t.test(l)?(e=e.slice(0,u)+"-"+e.slice(u),a=!1,o=s,s=!0,u++):s&&o&&r.test(l)?(e=e.slice(0,u-1)+"-"+e.slice(u-1),o=s,s=!1,a=!0):(a=i(l)===l&&n(l)!==l,o=s,s=n(l)===l&&i(l)!==l)}return e},c=(e,t)=>(i.lastIndex=0,e.replace(i,e=>t(e))),d=(e,t)=>(o.lastIndex=0,u.lastIndex=0,e.replace(o,(e,r)=>t(r)).replace(u,e=>t(e))),h=(e,t)=>{if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let r=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),i=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);if(1===e.length)return t.pascalCase?i(e):r(e);let n=e!==r(e);return n&&(e=l(e,r,i)),e=e.replace(s,""),e=t.preserveConsecutiveUppercase?c(e,r):r(e),t.pascalCase&&(e=i(e.charAt(0))+e.slice(1)),d(e,i)};e.exports=h,e.exports.default=h},9380:function(e){"use strict";let t=(e,t)=>(e=e.replace(/((?<![\p{Uppercase_Letter}\d])[\p{Uppercase_Letter}\d](?![\p{Uppercase_Letter}\d]))/gu,e=>e.toLowerCase())).replace(/(\p{Uppercase_Letter}+)(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,(e,r,i)=>r+t+i.toLowerCase());e.exports=(e,{separator:r="_",preserveConsecutiveUppercase:i=!1}={})=>{if(!("string"==typeof e&&"string"==typeof r))throw TypeError("The `text` and `separator` arguments should be of type `string`");if(e.length<2)return i?e:e.toLowerCase();let n=`$1${r}$2`,a=e.replace(/([\p{Lowercase_Letter}\d])(\p{Uppercase_Letter})/gu,n);return i?t(a,r):a.replace(/(\p{Uppercase_Letter})(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,n).toLowerCase()}},8958:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,i,a,s){if("function"!=typeof i)throw TypeError("The listener must be a function");var o=new n(i,a||e,s),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,a=i.length,s=Array(a);n<a;n++)s[n]=i[n].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},o.prototype.emit=function(e,t,i,n,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,n),!0;case 5:return c.fn.call(c.context,t,i,n,a),!0;case 6:return c.fn.call(c.context,t,i,n,a,s),!0}for(l=1,u=Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,i);break;case 4:c[l].fn.call(c[l].context,t,i,n);break;default:if(!u)for(h=1,u=Array(d-1);h<d;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,i,n){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||i&&o.context!==i||s(this,a);else{for(var u=0,l=[],c=o.length;u<c;u++)(o[u].fn!==t||n&&!o[u].once||i&&o[u].context!==i)&&l.push(o[u]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},772:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},4596:function(e,t,r){"use strict";e=r.nmd(e);let i=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,n=(e=0)=>(t,r,i)=>`\u001B[${38+e};2;${t};${r};${i}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};for(let[r,i]of(t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright,Object.entries(t))){for(let[r,n]of Object.entries(i))t[r]={open:`\u001B[${n[0]}m`,close:`\u001B[${n[1]}m`},i[r]=t[r],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:i,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=i(),t.color.ansi16m=n(),t.bgColor.ansi256=i(10),t.bgColor.ansi16m=n(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;3===r.length&&(r=r.split("").map(e=>e+e).join(""));let i=Number.parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},2040:function(e,t,r){"use strict";var i,n;e.exports=(null==(i=r.g.process)?void 0:i.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(6003)},6003:function(e){!function(){var t={229:function(e){var t,r,i,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],l=!1,c=-1;function d(){l&&i&&(l=!1,i.length?u=i.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=u.length;t;){for(i=u,u=[];++c<t;)i&&i[c].run();c=-1,t=u.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},s=!0;try{t[e](a,a.exports,i),s=!1}finally{s&&delete r[e]}return a.exports}i.ab="//";var n=i(229);e.exports=n}()},3177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(6006),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var i,a={},l=null,c=null;for(i in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,i)&&!u.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:n,type:e,key:l,ref:c,props:a,_owner:o.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9268:function(e,t,r){"use strict";e.exports=r(3177)},1409:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function o(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;let n=r(8741),a=r(4350),s=r(5807);t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("cancelFineTune","fineTuneId",t);let n="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),createAnswer:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createAnswer","createAnswerRequest",t);let n=new URL("/answers",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createChatCompletion:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createChatCompletion","createChatCompletionRequest",t);let n=new URL("/chat/completions",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createClassification:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createClassification","createClassificationRequest",t);let n=new URL("/classifications",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createCompletion:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createCompletion","createCompletionRequest",t);let n=new URL("/completions",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createEdit:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createEdit","createEditRequest",t);let n=new URL("/edits",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createEmbedding:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createEmbedding","createEmbeddingRequest",t);let n=new URL("/embeddings",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createFile:(t,r,n={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createFile","file",t),a.assertParamExists("createFile","purpose",r);let s=new URL("/files",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},i),n),u={},l=new(e&&e.formDataCtor||FormData);void 0!==t&&l.append("file",t),void 0!==r&&l.append("purpose",r),u["Content-Type"]="multipart/form-data",a.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign(Object.assign({},u),l.getHeaders()),c),n.headers),o.data=l,{url:a.toPathString(s),options:o}}),createFineTune:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createFineTune","createFineTuneRequest",t);let n=new URL("/fine-tunes",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createImage:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createImage","createImageRequest",t);let n=new URL("/images/generations",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createImageEdit:(t,r,n,s,o,u,l,c={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createImageEdit","image",t),a.assertParamExists("createImageEdit","prompt",r);let d=new URL("/images/edits",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let h=Object.assign(Object.assign({method:"POST"},i),c),p={},f=new(e&&e.formDataCtor||FormData);void 0!==t&&f.append("image",t),void 0!==n&&f.append("mask",n),void 0!==r&&f.append("prompt",r),void 0!==s&&f.append("n",s),void 0!==o&&f.append("size",o),void 0!==u&&f.append("response_format",u),void 0!==l&&f.append("user",l),p["Content-Type"]="multipart/form-data",a.setSearchParams(d,{});let m=i&&i.headers?i.headers:{};return h.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),f.getHeaders()),m),c.headers),h.data=f,{url:a.toPathString(d),options:h}}),createImageVariation:(t,r,n,s,o,u={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createImageVariation","image",t);let l=new URL("/images/variations",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let c=Object.assign(Object.assign({method:"POST"},i),u),d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("image",t),void 0!==r&&h.append("n",r),void 0!==n&&h.append("size",n),void 0!==s&&h.append("response_format",s),void 0!==o&&h.append("user",o),d["Content-Type"]="multipart/form-data",a.setSearchParams(l,{});let p=i&&i.headers?i.headers:{};return c.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),h.getHeaders()),p),u.headers),c.data=h,{url:a.toPathString(l),options:c}}),createModeration:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createModeration","createModerationRequest",t);let n=new URL("/moderations",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},i),r),o={};o["Content-Type"]="application/json",a.setSearchParams(n,{});let u=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},o),u),r.headers),s.data=a.serializeDataIfNeeded(t,s,e),{url:a.toPathString(n),options:s}}),createSearch:(t,r,n={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createSearch","engineId",t),a.assertParamExists("createSearch","createSearchRequest",r);let s="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),o=new URL(s,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let u=Object.assign(Object.assign({method:"POST"},i),n),l={};l["Content-Type"]="application/json",a.setSearchParams(o,{});let c=i&&i.headers?i.headers:{};return u.headers=Object.assign(Object.assign(Object.assign({},l),c),n.headers),u.data=a.serializeDataIfNeeded(r,u,e),{url:a.toPathString(o),options:u}}),createTranscription:(t,r,n,s,o,u,l={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createTranscription","file",t),a.assertParamExists("createTranscription","model",r);let c=new URL("/audio/transcriptions",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let d=Object.assign(Object.assign({method:"POST"},i),l),h={},p=new(e&&e.formDataCtor||FormData);void 0!==t&&p.append("file",t),void 0!==r&&p.append("model",r),void 0!==n&&p.append("prompt",n),void 0!==s&&p.append("response_format",s),void 0!==o&&p.append("temperature",o),void 0!==u&&p.append("language",u),h["Content-Type"]="multipart/form-data",a.setSearchParams(c,{});let f=i&&i.headers?i.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},h),p.getHeaders()),f),l.headers),d.data=p,{url:a.toPathString(c),options:d}}),createTranslation:(t,r,n,s,o,u={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("createTranslation","file",t),a.assertParamExists("createTranslation","model",r);let l=new URL("/audio/translations",a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let c=Object.assign(Object.assign({method:"POST"},i),u),d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("file",t),void 0!==r&&h.append("model",r),void 0!==n&&h.append("prompt",n),void 0!==s&&h.append("response_format",s),void 0!==o&&h.append("temperature",o),d["Content-Type"]="multipart/form-data",a.setSearchParams(l,{});let p=i&&i.headers?i.headers:{};return c.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),h.getHeaders()),p),u.headers),c.data=h,{url:a.toPathString(l),options:c}}),deleteFile:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("deleteFile","fileId",t);let n="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"DELETE"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),deleteModel:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("deleteModel","model",t);let n="/models/{model}".replace("{model}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"DELETE"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),downloadFile:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("downloadFile","fileId",t);let n="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"GET"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),listEngines:(t={})=>i(this,void 0,void 0,function*(){let r;let i=new URL("/engines",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let n=Object.assign(Object.assign({method:"GET"},r),t);a.setSearchParams(i,{});let s=r&&r.headers?r.headers:{};return n.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:a.toPathString(i),options:n}}),listFiles:(t={})=>i(this,void 0,void 0,function*(){let r;let i=new URL("/files",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let n=Object.assign(Object.assign({method:"GET"},r),t);a.setSearchParams(i,{});let s=r&&r.headers?r.headers:{};return n.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:a.toPathString(i),options:n}}),listFineTuneEvents:(t,r,n={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("listFineTuneEvents","fineTuneId",t);let s="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),o=new URL(s,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let u=Object.assign(Object.assign({method:"GET"},i),n),l={};void 0!==r&&(l.stream=r),a.setSearchParams(o,l);let c=i&&i.headers?i.headers:{};return u.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:a.toPathString(o),options:u}}),listFineTunes:(t={})=>i(this,void 0,void 0,function*(){let r;let i=new URL("/fine-tunes",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let n=Object.assign(Object.assign({method:"GET"},r),t);a.setSearchParams(i,{});let s=r&&r.headers?r.headers:{};return n.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:a.toPathString(i),options:n}}),listModels:(t={})=>i(this,void 0,void 0,function*(){let r;let i=new URL("/models",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let n=Object.assign(Object.assign({method:"GET"},r),t);a.setSearchParams(i,{});let s=r&&r.headers?r.headers:{};return n.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:a.toPathString(i),options:n}}),retrieveEngine:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("retrieveEngine","engineId",t);let n="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"GET"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),retrieveFile:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("retrieveFile","fileId",t);let n="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"GET"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),retrieveFineTune:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("retrieveFineTune","fineTuneId",t);let n="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"GET"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}}),retrieveModel:(t,r={})=>i(this,void 0,void 0,function*(){let i;a.assertParamExists("retrieveModel","model",t);let n="/models/{model}".replace("{model}",encodeURIComponent(String(t))),s=new URL(n,a.DUMMY_BASE_URL);e&&(i=e.baseOptions);let o=Object.assign(Object.assign({method:"GET"},i),r);a.setSearchParams(s,{});let u=i&&i.headers?i.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),u),r.headers),{url:a.toPathString(s),options:o}})}},t.OpenAIApiFp=function(e){let r=t.OpenAIApiAxiosParamCreator(e);return{cancelFineTune(t,o){return i(this,void 0,void 0,function*(){let i=yield r.cancelFineTune(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createAnswer(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createAnswer(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createChatCompletion(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createChatCompletion(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createClassification(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createClassification(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createCompletion(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createCompletion(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createEdit(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createEdit(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createEmbedding(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createEmbedding(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createFile(t,o,u){return i(this,void 0,void 0,function*(){let i=yield r.createFile(t,o,u);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createFineTune(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createFineTune(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createImage(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createImage(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createImageEdit(t,o,u,l,c,d,h,p){return i(this,void 0,void 0,function*(){let i=yield r.createImageEdit(t,o,u,l,c,d,h,p);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createImageVariation(t,o,u,l,c,d){return i(this,void 0,void 0,function*(){let i=yield r.createImageVariation(t,o,u,l,c,d);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createModeration(t,o){return i(this,void 0,void 0,function*(){let i=yield r.createModeration(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createSearch(t,o,u){return i(this,void 0,void 0,function*(){let i=yield r.createSearch(t,o,u);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createTranscription(t,o,u,l,c,d,h){return i(this,void 0,void 0,function*(){let i=yield r.createTranscription(t,o,u,l,c,d,h);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},createTranslation(t,o,u,l,c,d){return i(this,void 0,void 0,function*(){let i=yield r.createTranslation(t,o,u,l,c,d);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},deleteFile(t,o){return i(this,void 0,void 0,function*(){let i=yield r.deleteFile(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},deleteModel(t,o){return i(this,void 0,void 0,function*(){let i=yield r.deleteModel(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},downloadFile(t,o){return i(this,void 0,void 0,function*(){let i=yield r.downloadFile(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},listEngines(t){return i(this,void 0,void 0,function*(){let i=yield r.listEngines(t);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},listFiles(t){return i(this,void 0,void 0,function*(){let i=yield r.listFiles(t);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},listFineTuneEvents(t,o,u){return i(this,void 0,void 0,function*(){let i=yield r.listFineTuneEvents(t,o,u);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},listFineTunes(t){return i(this,void 0,void 0,function*(){let i=yield r.listFineTunes(t);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},listModels(t){return i(this,void 0,void 0,function*(){let i=yield r.listModels(t);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},retrieveEngine(t,o){return i(this,void 0,void 0,function*(){let i=yield r.retrieveEngine(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},retrieveFile(t,o){return i(this,void 0,void 0,function*(){let i=yield r.retrieveFile(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},retrieveFineTune(t,o){return i(this,void 0,void 0,function*(){let i=yield r.retrieveFineTune(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})},retrieveModel(t,o){return i(this,void 0,void 0,function*(){let i=yield r.retrieveModel(t,o);return a.createRequestFunction(i,n.default,s.BASE_PATH,e)})}}},t.OpenAIApiFactory=function(e,r,i){let n=t.OpenAIApiFp(e);return{cancelFineTune:(e,t)=>n.cancelFineTune(e,t).then(e=>e(i,r)),createAnswer:(e,t)=>n.createAnswer(e,t).then(e=>e(i,r)),createChatCompletion:(e,t)=>n.createChatCompletion(e,t).then(e=>e(i,r)),createClassification:(e,t)=>n.createClassification(e,t).then(e=>e(i,r)),createCompletion:(e,t)=>n.createCompletion(e,t).then(e=>e(i,r)),createEdit:(e,t)=>n.createEdit(e,t).then(e=>e(i,r)),createEmbedding:(e,t)=>n.createEmbedding(e,t).then(e=>e(i,r)),createFile:(e,t,a)=>n.createFile(e,t,a).then(e=>e(i,r)),createFineTune:(e,t)=>n.createFineTune(e,t).then(e=>e(i,r)),createImage:(e,t)=>n.createImage(e,t).then(e=>e(i,r)),createImageEdit:(e,t,a,s,o,u,l,c)=>n.createImageEdit(e,t,a,s,o,u,l,c).then(e=>e(i,r)),createImageVariation:(e,t,a,s,o,u)=>n.createImageVariation(e,t,a,s,o,u).then(e=>e(i,r)),createModeration:(e,t)=>n.createModeration(e,t).then(e=>e(i,r)),createSearch:(e,t,a)=>n.createSearch(e,t,a).then(e=>e(i,r)),createTranscription:(e,t,a,s,o,u,l)=>n.createTranscription(e,t,a,s,o,u,l).then(e=>e(i,r)),createTranslation:(e,t,a,s,o,u)=>n.createTranslation(e,t,a,s,o,u).then(e=>e(i,r)),deleteFile:(e,t)=>n.deleteFile(e,t).then(e=>e(i,r)),deleteModel:(e,t)=>n.deleteModel(e,t).then(e=>e(i,r)),downloadFile:(e,t)=>n.downloadFile(e,t).then(e=>e(i,r)),listEngines:e=>n.listEngines(e).then(e=>e(i,r)),listFiles:e=>n.listFiles(e).then(e=>e(i,r)),listFineTuneEvents:(e,t,a)=>n.listFineTuneEvents(e,t,a).then(e=>e(i,r)),listFineTunes:e=>n.listFineTunes(e).then(e=>e(i,r)),listModels:e=>n.listModels(e).then(e=>e(i,r)),retrieveEngine:(e,t)=>n.retrieveEngine(e,t).then(e=>e(i,r)),retrieveFile:(e,t)=>n.retrieveFile(e,t).then(e=>e(i,r)),retrieveFineTune:(e,t)=>n.retrieveFineTune(e,t).then(e=>e(i,r)),retrieveModel:(e,t)=>n.retrieveModel(e,t).then(e=>e(i,r))}};class o extends s.BaseAPI{cancelFineTune(e,r){return t.OpenAIApiFp(this.configuration).cancelFineTune(e,r).then(e=>e(this.axios,this.basePath))}createAnswer(e,r){return t.OpenAIApiFp(this.configuration).createAnswer(e,r).then(e=>e(this.axios,this.basePath))}createChatCompletion(e,r){return t.OpenAIApiFp(this.configuration).createChatCompletion(e,r).then(e=>e(this.axios,this.basePath))}createClassification(e,r){return t.OpenAIApiFp(this.configuration).createClassification(e,r).then(e=>e(this.axios,this.basePath))}createCompletion(e,r){return t.OpenAIApiFp(this.configuration).createCompletion(e,r).then(e=>e(this.axios,this.basePath))}createEdit(e,r){return t.OpenAIApiFp(this.configuration).createEdit(e,r).then(e=>e(this.axios,this.basePath))}createEmbedding(e,r){return t.OpenAIApiFp(this.configuration).createEmbedding(e,r).then(e=>e(this.axios,this.basePath))}createFile(e,r,i){return t.OpenAIApiFp(this.configuration).createFile(e,r,i).then(e=>e(this.axios,this.basePath))}createFineTune(e,r){return t.OpenAIApiFp(this.configuration).createFineTune(e,r).then(e=>e(this.axios,this.basePath))}createImage(e,r){return t.OpenAIApiFp(this.configuration).createImage(e,r).then(e=>e(this.axios,this.basePath))}createImageEdit(e,r,i,n,a,s,o,u){return t.OpenAIApiFp(this.configuration).createImageEdit(e,r,i,n,a,s,o,u).then(e=>e(this.axios,this.basePath))}createImageVariation(e,r,i,n,a,s){return t.OpenAIApiFp(this.configuration).createImageVariation(e,r,i,n,a,s).then(e=>e(this.axios,this.basePath))}createModeration(e,r){return t.OpenAIApiFp(this.configuration).createModeration(e,r).then(e=>e(this.axios,this.basePath))}createSearch(e,r,i){return t.OpenAIApiFp(this.configuration).createSearch(e,r,i).then(e=>e(this.axios,this.basePath))}createTranscription(e,r,i,n,a,s,o){return t.OpenAIApiFp(this.configuration).createTranscription(e,r,i,n,a,s,o).then(e=>e(this.axios,this.basePath))}createTranslation(e,r,i,n,a,s){return t.OpenAIApiFp(this.configuration).createTranslation(e,r,i,n,a,s).then(e=>e(this.axios,this.basePath))}deleteFile(e,r){return t.OpenAIApiFp(this.configuration).deleteFile(e,r).then(e=>e(this.axios,this.basePath))}deleteModel(e,r){return t.OpenAIApiFp(this.configuration).deleteModel(e,r).then(e=>e(this.axios,this.basePath))}downloadFile(e,r){return t.OpenAIApiFp(this.configuration).downloadFile(e,r).then(e=>e(this.axios,this.basePath))}listEngines(e){return t.OpenAIApiFp(this.configuration).listEngines(e).then(e=>e(this.axios,this.basePath))}listFiles(e){return t.OpenAIApiFp(this.configuration).listFiles(e).then(e=>e(this.axios,this.basePath))}listFineTuneEvents(e,r,i){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(e,r,i).then(e=>e(this.axios,this.basePath))}listFineTunes(e){return t.OpenAIApiFp(this.configuration).listFineTunes(e).then(e=>e(this.axios,this.basePath))}listModels(e){return t.OpenAIApiFp(this.configuration).listModels(e).then(e=>e(this.axios,this.basePath))}retrieveEngine(e,r){return t.OpenAIApiFp(this.configuration).retrieveEngine(e,r).then(e=>e(this.axios,this.basePath))}retrieveFile(e,r){return t.OpenAIApiFp(this.configuration).retrieveFile(e,r).then(e=>e(this.axios,this.basePath))}retrieveFineTune(e,r){return t.OpenAIApiFp(this.configuration).retrieveFineTune(e,r).then(e=>e(this.axios,this.basePath))}retrieveModel(e,r){return t.OpenAIApiFp(this.configuration).retrieveModel(e,r).then(e=>e(this.axios,this.basePath))}}t.OpenAIApi=o},5807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;let i=r(8741);t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"},t.BaseAPI=class{constructor(e,r=t.BASE_PATH,n=i.default){this.basePath=r,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}},t.RequiredError=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}},4350:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function o(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestFunction=t.toPathString=t.serializeDataIfNeeded=t.setSearchParams=t.setOAuthToObject=t.setBearerAuthToObject=t.setBasicAuthToObject=t.setApiKeyToObject=t.assertParamExists=t.DUMMY_BASE_URL=void 0;let n=r(5807);t.DUMMY_BASE_URL="https://example.com",t.assertParamExists=function(e,t,r){if(null==r)throw new n.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},t.setApiKeyToObject=function(e,t,r){return i(this,void 0,void 0,function*(){if(r&&r.apiKey){let i="function"==typeof r.apiKey?yield r.apiKey(t):yield r.apiKey;e[t]=i}})},t.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},t.setBearerAuthToObject=function(e,t){return i(this,void 0,void 0,function*(){if(t&&t.accessToken){let r="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+r}})},t.setOAuthToObject=function(e,t,r,n){return i(this,void 0,void 0,function*(){if(n&&n.accessToken){let i="function"==typeof n.accessToken?yield n.accessToken(t,r):yield n.accessToken;e.Authorization="Bearer "+i}})},t.setSearchParams=function(e,...t){let r=new URLSearchParams(e.search);(function e(t,r,i=""){null!=r&&("object"==typeof r?Array.isArray(r)?r.forEach(r=>e(t,r,i)):Object.keys(r).forEach(n=>e(t,r[n],`${i}${""!==i?".":""}${n}`)):t.has(i)?t.append(i,r):t.set(i,r))})(r,t),e.search=r.toString()},t.serializeDataIfNeeded=function(e,t,r){let i="string"!=typeof e,n=i&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):i;return n?JSON.stringify(void 0!==e?e:{}):e||""},t.toPathString=function(e){return e.pathname+e.search+e.hash},t.createRequestFunction=function(e,t,r,i){return(n=t,a=r)=>{let s=Object.assign(Object.assign({},e.options),{url:((null==i?void 0:i.basePath)||a)+e.url});return n.request(s)}}},1986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;let i=r(1095);t.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${i.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=r(772))}isJsonMime(e){let t=RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}},1085:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1409),t),n(r(1986),t)},2635:function(e){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},5853:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(8958),n=r(3),a=r(1673),s=()=>{},o=new n.TimeoutError;t.default=class extends i{constructor(e){var t,r,i,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(i=e.interval)||void 0===i?void 0:i.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((r,i)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():n.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(o)});r(await a)}catch(e){i(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},5472:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let i=0,n=e.length;for(;n>0;){let a=n/2|0,s=i+a;0>=r(e[s],t)?(i=++s,n-=a+1):n=a}return i}},1673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(5472);t.default=class{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);let r={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(r);return}let n=i.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(n,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},4153:function(e,t,r){"use strict";let i=r(6073),n=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class a extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}let s=(e,t,r)=>{let i=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=i,e},o=e=>n.includes(e),u=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};let u=i.operation(t);u.attempt(async i=>{try{r(await e(i))}catch(e){if(!(e instanceof Error)){n(TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));return}if(e instanceof a)u.stop(),n(e.originalError);else if(e instanceof TypeError&&!o(e.message))u.stop(),n(e);else{s(e,i,t);try{await t.onFailedAttempt(e)}catch(e){n(e);return}u.retry(e)||n(u.mainError())}}})});e.exports=u,e.exports.default=u,e.exports.AbortError=a},3:function(e,t,r){"use strict";let i=r(2635);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,r)=>new Promise((a,s)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){a(e);return}let o=setTimeout(()=>{if("function"==typeof r){try{a(r())}catch(e){s(e)}return}let i="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new n(i);"function"==typeof e.cancel&&e.cancel(),s(o)},t);i(e.then(a,s),()=>{clearTimeout(o)})});e.exports=a,e.exports.default=a,e.exports.TimeoutError=n},6073:function(e,t,r){e.exports=r(7198)},7198:function(e,t,r){var i=r(5678);t.operation=function(e){var r=t.timeouts(e);return new i(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<t.retries;n++)i.push(this.createTimeout(n,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(n,t)),i.sort(function(e,t){return e-t}),i},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,r,i){if(r instanceof Array&&(i=r,r=null),!i)for(var n in i=[],e)"function"==typeof e[n]&&i.push(n);for(var a=0;a<i.length;a++){var s=i[a],o=e[s];e[s]=(function(i){var n=t.operation(r),a=Array.prototype.slice.call(arguments,1),s=a.pop();a.push(function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),s.apply(this,arguments))}),n.attempt(function(){i.apply(e,a)})}).bind(e,o),e[s].options=r}}},5678:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,i=0;i<this._errors.length;i++){var n=this._errors[i],a=n.message,s=(e[a]||0)+1;e[a]=s,s>=r&&(t=n,r=s)}return t}},6462:function(e,t,r){"use strict";let i;r.d(t,{Z:function(){return l}});let n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var a={randomUUID:n};let s=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}let u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));var l=function(e,t,r){if(a.randomUUID&&!t&&!e)return a.randomUUID();e=e||{};let i=e.random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase()}(i)}},2210:function(e,t,r){"use strict";t.Y_=void 0;let i=r(4467);Object.defineProperty(t,"Y_",{enumerable:!0,get:function(){return i.zodToJsonSchema}}),i.zodToJsonSchema},2834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=t.defaultOptions=void 0,t.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"},t.getDefaultOptions=e=>"string"==typeof e?Object.assign(Object.assign({},t.defaultOptions),{name:e}):Object.assign(Object.assign({},t.defaultOptions),e)},7591:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefs=void 0;let i=r(2834);t.getRefs=e=>{let t=(0,i.getDefaultOptions)(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return Object.assign(Object.assign({},t),{currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))})}},3067:function(e,t){"use strict";function r(e,t,r,i){(null==i?void 0:i.errorMessages)&&r&&(e.errorMessage=Object.assign(Object.assign({},e.errorMessage),{[t]:r}))}Object.defineProperty(t,"__esModule",{value:!0}),t.setResponseValueAndErrors=t.addErrorMessage=void 0,t.addErrorMessage=r,t.setResponseValueAndErrors=function(e,t,i,n,a){e[t]=i,r(e,t,n,a)}},1754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDef=void 0;let i=r(849),n=r(7139),a=r(6268),s=r(8002),o=r(8977),u=r(612),l=r(816),c=r(2665),d=r(4480),h=r(3711),p=r(410),f=r(6784),m=r(8347),y=r(1368),g=r(5648),b=r(4614),v=r(8689),_=r(3921),w=r(9583),O=r(331),P=r(3882),x=r(1371),T=r(9845),j=r(6554),I=r(7176),A=r(3867),E=r(2804),C=r(3959),S=r(986),k=r(7697);function Z(e,t,r=!1){let i=t.seen.get(e);if(i&&!r){let e=M(i,t);if(void 0!==e)return e}let n={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,n);let a=R(e,e.typeName,t);return a&&D(e,t,a),n.jsonSchema=a,a}t.parseDef=Z;let M=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:0===e.path.length?"":1===e.path.length?`${e.path[0]}/`:e.path.join("/")};case"relative":return{$ref:N(t.currentPath,e.path)};case"none":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return;case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return e.jsonSchema}},N=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},R=(e,t,r)=>{switch(t){case i.ZodFirstPartyTypeKind.ZodString:return(0,A.parseStringDef)(e,r);case i.ZodFirstPartyTypeKind.ZodNumber:return(0,w.parseNumberDef)(e,r);case i.ZodFirstPartyTypeKind.ZodObject:return(0,O.parseObjectDef)(e,r);case i.ZodFirstPartyTypeKind.ZodBigInt:return(0,s.parseBigintDef)(e,r);case i.ZodFirstPartyTypeKind.ZodBoolean:return(0,o.parseBooleanDef)();case i.ZodFirstPartyTypeKind.ZodDate:return(0,c.parseDateDef)(e,r);case i.ZodFirstPartyTypeKind.ZodUndefined:return(0,C.parseUndefinedDef)();case i.ZodFirstPartyTypeKind.ZodNull:return(0,v.parseNullDef)(r);case i.ZodFirstPartyTypeKind.ZodArray:return(0,a.parseArrayDef)(e,r);case i.ZodFirstPartyTypeKind.ZodUnion:case i.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,S.parseUnionDef)(e,r);case i.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(e,r);case i.ZodFirstPartyTypeKind.ZodTuple:return(0,E.parseTupleDef)(e,r);case i.ZodFirstPartyTypeKind.ZodRecord:return(0,j.parseRecordDef)(e,r);case i.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(e,r);case i.ZodFirstPartyTypeKind.ZodEnum:return(0,p.parseEnumDef)(e);case i.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(e);case i.ZodFirstPartyTypeKind.ZodNullable:return(0,_.parseNullableDef)(e,r);case i.ZodFirstPartyTypeKind.ZodOptional:return(0,P.parseOptionalDef)(e,r);case i.ZodFirstPartyTypeKind.ZodMap:return(0,y.parseMapDef)(e,r);case i.ZodFirstPartyTypeKind.ZodSet:return(0,I.parseSetDef)(e,r);case i.ZodFirstPartyTypeKind.ZodLazy:return Z(e.getter()._def,r);case i.ZodFirstPartyTypeKind.ZodPromise:return(0,T.parsePromiseDef)(e,r);case i.ZodFirstPartyTypeKind.ZodNaN:case i.ZodFirstPartyTypeKind.ZodNever:return(0,b.parseNeverDef)();case i.ZodFirstPartyTypeKind.ZodEffects:return(0,h.parseEffectsDef)(e,r);case i.ZodFirstPartyTypeKind.ZodAny:return(0,n.parseAnyDef)();case i.ZodFirstPartyTypeKind.ZodUnknown:return(0,k.parseUnknownDef)();case i.ZodFirstPartyTypeKind.ZodDefault:return(0,d.parseDefaultDef)(e,r);case i.ZodFirstPartyTypeKind.ZodBranded:return(0,u.parseBrandedDef)(e,r);case i.ZodFirstPartyTypeKind.ZodCatch:return(0,l.parseCatchDef)(e,r);case i.ZodFirstPartyTypeKind.ZodPipeline:return(0,x.parsePipelineDef)(e,r);case i.ZodFirstPartyTypeKind.ZodFunction:case i.ZodFirstPartyTypeKind.ZodVoid:case i.ZodFirstPartyTypeKind.ZodSymbol:default:return}},D=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)},7139:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAnyDef=void 0,t.parseAnyDef=function(){return{}}},6268:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseArrayDef=void 0;let i=r(849),n=r(3067),a=r(1754);t.parseArrayDef=function(e,t){var r,s;let o={type:"array"};return(null===(s=null===(r=e.type)||void 0===r?void 0:r._def)||void 0===s?void 0:s.typeName)!==i.ZodFirstPartyTypeKind.ZodAny&&(o.items=(0,a.parseDef)(e.type._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(0,n.setResponseValueAndErrors)(o,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,n.setResponseValueAndErrors)(o,"maxItems",e.maxLength.value,e.maxLength.message,t),o}},8002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBigintDef=void 0;let i=r(3067);t.parseBigintDef=function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?(0,i.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t):(0,i.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),(0,i.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?(0,i.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t):(0,i.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),(0,i.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t));break;case"multipleOf":(0,i.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,t)}return r}},8977:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBooleanDef=void 0,t.parseBooleanDef=function(){return{type:"boolean"}}},612:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBrandedDef=void 0;let i=r(1754);t.parseBrandedDef=function(e,t){return(0,i.parseDef)(e.type._def,t)}},816:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCatchDef=void 0;let i=r(1754);t.parseCatchDef=(e,t)=>(0,i.parseDef)(e.innerType._def,t)},2665:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDateDef=void 0;let i=r(3067);t.parseDateDef=function(e,t){return"integer"==t.dateStrategy?n(e,t):{type:"string",format:"date-time"}};let n=(e,t)=>{let r={type:"integer",format:"unix-time"};for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target&&(0,i.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t);break;case"max":"jsonSchema7"===t.target&&(0,i.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t)}return r}},4480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDefaultDef=void 0;let i=r(1754);t.parseDefaultDef=function(e,t){return Object.assign(Object.assign({},(0,i.parseDef)(e.innerType._def,t)),{default:e.defaultValue()})}},3711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEffectsDef=void 0;let i=r(1754);t.parseEffectsDef=function(e,t){return"input"===t.effectStrategy?(0,i.parseDef)(e.schema._def,t):{}}},410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnumDef=void 0,t.parseEnumDef=function(e){return{type:"string",enum:e.values}}},6784:function(e,t,r){"use strict";var i=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.parseIntersectionDef=void 0;let n=r(1754),a=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;t.parseIntersectionDef=function(e,t){let r=[(0,n.parseDef)(e.left._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","0"]})),(0,n.parseDef)(e.right._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","1"]}))].filter(e=>!!e),s="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(e=>{if(a(e))o.push(...e.allOf),void 0===e.unevaluatedProperties&&(s=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r}=e,n=i(e,["additionalProperties"]);t=n}else s=void 0;o.push(t)}}),o.length?Object.assign({allOf:o},s):void 0}},8347:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLiteralDef=void 0,t.parseLiteralDef=function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}},1368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMapDef=void 0;let i=r(1754);t.parseMapDef=function(e,t){let r=(0,i.parseDef)(e.keyType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items","items","0"]}))||{},n=(0,i.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}},5648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNativeEnumDef=void 0,t.parseNativeEnumDef=function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]),i=r.map(e=>t[e]),n=Array.from(new Set(i.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:i}}},4614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNeverDef=void 0,t.parseNeverDef=function(){return{not:{}}}},8689:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullDef=void 0,t.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}},3921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullableDef=void 0;let i=r(1754),n=r(986);t.parseNullableDef=function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:n.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[n.primitiveMappings[e.innerType._def.typeName],"null"]};let r=(0,i.parseDef)(e.innerType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf","0"]}));return r?"openApi3"===t.target?Object.assign(Object.assign({},r),{nullable:!0}):{anyOf:[r,{type:"null"}]}:void 0}},9583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumberDef=void 0;let i=r(3067);t.parseNumberDef=function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",(0,i.addErrorMessage)(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?(0,i.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t):(0,i.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),(0,i.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?(0,i.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t):(0,i.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),(0,i.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t));break;case"multipleOf":(0,i.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,t)}return r}},331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseObjectDef=t.parseObjectDefX=void 0;let i=r(1754);t.parseObjectDefX=function(e,t){var r,n;Object.keys(e.shape()).reduce((r,n)=>{let a=e.shape()[n],s=a.isOptional();s||(a=Object.assign({},a._def.innerSchema));let o=(0,i.parseDef)(a._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]}));return void 0===o||(r.properties[n]=o,s||(r.required||(r.required=[]),r.required.push(n))),r},{type:"object",properties:{},additionalProperties:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:null===(r=(0,i.parseDef)(e.catchall._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))||void 0===r||r});let a=Object.assign(Object.assign({type:"object"},Object.entries(e.shape()).reduce((e,[r,n])=>{if(void 0===n||void 0===n._def)return e;let a=(0,i.parseDef)(n._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]}));return void 0===a?e:{properties:Object.assign(Object.assign({},e.properties),{[r]:a}),required:n.isOptional()?e.required:[...e.required,r]}},{properties:{},required:[]})),{additionalProperties:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:null===(n=(0,i.parseDef)(e.catchall._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))||void 0===n||n});return a.required.length||delete a.required,a},t.parseObjectDef=function(e,t){var r;let n=Object.assign(Object.assign({type:"object"},Object.entries(e.shape()).reduce((e,[r,n])=>{if(void 0===n||void 0===n._def)return e;let a=(0,i.parseDef)(n._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]}));return void 0===a?e:{properties:Object.assign(Object.assign({},e.properties),{[r]:a}),required:n.isOptional()?e.required:[...e.required,r]}},{properties:{},required:[]})),{additionalProperties:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:null===(r=(0,i.parseDef)(e.catchall._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))||void 0===r||r});return n.required.length||delete n.required,n}},3882:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionalDef=void 0;let i=r(1754);t.parseOptionalDef=(e,t)=>{var r;if(t.currentPath.toString()===(null===(r=t.propertyPath)||void 0===r?void 0:r.toString()))return(0,i.parseDef)(e.innerType._def,t);let n=(0,i.parseDef)(e.innerType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf","1"]}));return n?{anyOf:[{not:{}},n]}:{}}},1371:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePipelineDef=void 0;let i=r(1754);t.parsePipelineDef=(e,t)=>{if("input"===t.pipeStrategy)return(0,i.parseDef)(e.in._def,t);let r=(0,i.parseDef)(e.in._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","0"]})),n=(0,i.parseDef)(e.out._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf",r?"1":"0"]}));return{allOf:[r,n].filter(e=>void 0!==e)}}},9845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePromiseDef=void 0;let i=r(1754);t.parsePromiseDef=function(e,t){return(0,i.parseDef)(e.type._def,t)}},6554:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRecordDef=void 0;let i=r(849),n=r(1754),a=r(3867);t.parseRecordDef=function(e,t){var r,s,o,u,l;if("openApi3"===t.target&&(null===(r=e.keyType)||void 0===r?void 0:r._def.typeName)===i.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,i)=>{var a;return Object.assign(Object.assign({},r),{[i]:null!==(a=(0,n.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",i]})))&&void 0!==a?a:{}})},{}),additionalProperties:!1};let c={type:"object",additionalProperties:null!==(s=(0,n.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))&&void 0!==s?s:{}};if("openApi3"===t.target)return c;if((null===(o=e.keyType)||void 0===o?void 0:o._def.typeName)===i.ZodFirstPartyTypeKind.ZodString&&(null===(u=e.keyType._def.checks)||void 0===u?void 0:u.length)){let r=Object.entries((0,a.parseStringDef)(e.keyType._def,t)).reduce((e,[t,r])=>"type"===t?e:Object.assign(Object.assign({},e),{[t]:r}),{});return Object.assign(Object.assign({},c),{propertyNames:r})}return(null===(l=e.keyType)||void 0===l?void 0:l._def.typeName)===i.ZodFirstPartyTypeKind.ZodEnum?Object.assign(Object.assign({},c),{propertyNames:{enum:e.keyType._def.values}}):c}},7176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSetDef=void 0;let i=r(3067),n=r(1754);t.parseSetDef=function(e,t){let r=(0,n.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items"]})),a={type:"array",uniqueItems:!0,items:r};return e.minSize&&(0,i.setResponseValueAndErrors)(a,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,i.setResponseValueAndErrors)(a,"maxItems",e.maxSize.value,e.maxSize.message,t),a}},3867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringDef=t.emojiPattern=t.ulidPattern=t.cuid2Pattern=t.cuidPattern=t.emailPattern=void 0;let i=r(3067);t.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',t.cuidPattern="^c[^\\s-]{8,}$",t.cuid2Pattern="^[a-z][a-z0-9]*$",t.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",t.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u",t.parseStringDef=function(e,r){let o={type:"string"};if(e.checks)for(let u of e.checks)switch(u.kind){case"min":(0,i.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,u.value):u.value,u.message,r);break;case"max":(0,i.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,u.value):u.value,u.message,r);break;case"email":switch(r.emailStrategy){case"format:email":a(o,"email",u.message,r);break;case"format:idn-email":a(o,"idn-email",u.message,r);break;case"pattern:zod":s(o,t.emailPattern,u.message,r)}break;case"url":a(o,"uri",u.message,r);break;case"uuid":a(o,"uuid",u.message,r);break;case"regex":s(o,u.regex.source,u.message,r);break;case"cuid":s(o,t.cuidPattern,u.message,r);break;case"cuid2":s(o,t.cuid2Pattern,u.message,r);break;case"startsWith":s(o,"^"+n(u.value),u.message,r);break;case"endsWith":s(o,n(u.value)+"$",u.message,r);break;case"datetime":a(o,"date-time",u.message,r);break;case"length":(0,i.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,u.value):u.value,u.message,r),(0,i.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,u.value):u.value,u.message,r);break;case"includes":s(o,n(u.value),u.message,r);break;case"ip":"v6"!==u.version&&a(o,"ipv4",u.message,r),"v4"!==u.version&&a(o,"ipv6",u.message,r);break;case"emoji":s(o,t.emojiPattern,u.message,r);break;case"ulid":s(o,t.ulidPattern,u.message,r)}return o};let n=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),a=(e,t,r,n)=>{var a;e.format||(null===(a=e.anyOf)||void 0===a?void 0:a.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push(Object.assign({format:e.format},e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}})),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push(Object.assign({format:t},r&&n.errorMessages&&{errorMessage:{format:r}}))):(0,i.setResponseValueAndErrors)(e,"format",t,r,n)},s=(e,t,r,n)=>{var a;e.pattern||(null===(a=e.allOf)||void 0===a?void 0:a.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push(Object.assign({pattern:e.pattern},e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}})),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push(Object.assign({pattern:t},r&&n.errorMessages&&{errorMessage:{pattern:r}}))):(0,i.setResponseValueAndErrors)(e,"pattern",t,r,n)}},2804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTupleDef=void 0;let i=r(1754);t.parseTupleDef=function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>(0,i.parseDef)(e._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items",`${r}`]}))).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:(0,i.parseDef)(e.rest._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>(0,i.parseDef)(e._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items",`${r}`]}))).reduce((e,t)=>void 0===t?e:[...e,t],[])}}},3959:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUndefinedDef=void 0,t.parseUndefinedDef=function(){return{not:{}}}},986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnionDef=t.primitiveMappings=void 0;let i=r(1754);t.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},t.parseUnionDef=function(e,r){if("openApi3"===r.target)return n(e,r);let i=e.options instanceof Map?Array.from(e.options.values()):e.options;if(i.every(e=>e._def.typeName in t.primitiveMappings&&(!e._def.checks||!e._def.checks.length))){let e=i.reduce((e,r)=>{let i=t.primitiveMappings[r._def.typeName];return i&&!e.includes(i)?[...e,i]:e},[]);return{type:e.length>1?e:e[0]}}if(i.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=i.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===i.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:i.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(i.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:i.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return n(e,r)};let n=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>(0,i.parseDef)(e._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf",`${r}`]}))).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0}},7697:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnknownDef=void 0,t.parseUnknownDef=function(){return{}}},4467:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zodToJsonSchema=void 0;let i=r(1754),n=r(7591);t.zodToJsonSchema=(e,t)=>{var r;let a=(0,n.getRefs)(t),s="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>{var n;return Object.assign(Object.assign({},e),{[t]:null!==(n=(0,i.parseDef)(r._def,Object.assign(Object.assign({},a),{currentPath:[...a.basePath,a.definitionPath,t]}),!0))&&void 0!==n?n:{}})},{}):void 0,o="string"==typeof t?t:null==t?void 0:t.name,u=null!==(r=(0,i.parseDef)(e._def,void 0===o?a:Object.assign(Object.assign({},a),{currentPath:[...a.basePath,a.definitionPath,o]}),!1))&&void 0!==r?r:{},l=void 0===o?s?Object.assign(Object.assign({},u),{[a.definitionPath]:s}):u:{$ref:[..."relative"===a.$refStrategy?[]:a.basePath,a.definitionPath,o].join("/"),[a.definitionPath]:Object.assign(Object.assign({},s),{[o]:u})};return"jsonSchema7"===a.target?l.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===a.target&&(l.$schema="https://json-schema.org/draft/2019-09/schema#"),l}},5453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;let i=r(8021);t.ZodIssueCode=i.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>{let t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")};class n extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i],a=i===n.path.length-1;a?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=n,n.create=e=>{let t=new n(e);return t}},1901:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;let n=i(r(6108));t.defaultErrorMap=n.default;let a=n.default;t.setErrorMap=function(e){a=e},t.getErrorMap=function(){return a}},4091:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1901),t),n(r(3055),t),n(r(5642),t),n(r(8021),t),n(r(640),t),n(r(5453),t)},8846:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,(r=t.errorUtil||(t.errorUtil={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},r.toString=e=>"string"==typeof e?e:null==e?void 0:e.message},3055:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;let n=r(1901),a=i(r(6108));t.makeIssue=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,a=[...r,...n.path||[]],s={...n,path:a},o="",u=i.filter(e=>!!e).slice().reverse();for(let e of u)o=e(s,{data:t,defaultError:o}).message;return{...n,path:a,message:n.message||o}},t.EMPTY_PATH=[],t.addIssueToContext=function(e,r){let i=(0,t.makeIssue)({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,(0,n.getErrorMap)(),a.default].filter(e=>!!e)});e.common.issues.push(i)};class s{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,r){let i=[];for(let n of r){if("aborted"===n.status)return t.INVALID;"dirty"===n.status&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){let r=[];for(let e of t)r.push({key:await e.key,value:await e.value});return s.mergeObjectSync(e,r)}static mergeObjectSync(e,r){let i={};for(let n of r){let{key:r,value:a}=n;if("aborted"===r.status||"aborted"===a.status)return t.INVALID;"dirty"===r.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(void 0!==a.value||n.alwaysSet)&&(i[r.value]=a.value)}return{status:e.value,value:i}}}t.ParseStatus=s,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},5642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8021:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,(i=r=t.util||(t.util={})).assertEqual=e=>e,i.assertIs=function(e){},i.assertNever=function(e){throw Error()},i.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},i.getValidEnumValues=e=>{let t=i.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return i.objectValues(r)},i.objectValues=e=>i.objectKeys(e).map(function(t){return e[t]}),i.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},i.find=(e,t)=>{for(let r of e)if(t(r))return r},i.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,i.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},i.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(t.objectUtil||(t.objectUtil={})).mergeShapes=(e,t)=>({...e,...t}),t.ZodParsedType=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{let r=typeof e;switch(r){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":if(Array.isArray(e))return t.ZodParsedType.array;if(null===e)return t.ZodParsedType.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t.ZodParsedType.promise;if("undefined"!=typeof Map&&e instanceof Map)return t.ZodParsedType.map;if("undefined"!=typeof Set&&e instanceof Set)return t.ZodParsedType.set;if("undefined"!=typeof Date&&e instanceof Date)return t.ZodParsedType.date;return t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},849:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;let o=a(r(4091));t.z=o,s(r(4091),t),t.default=o},6108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(8021),n=r(5453);t.default=(e,t)=>{let r;switch(e.code){case n.ZodIssueCode.invalid_type:r=e.received===i.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.util.jsonStringifyReplacer)}`;break;case n.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.util.joinValues(e.keys,", ")}`;break;case n.ZodIssueCode.invalid_union:r="Invalid input";break;case n.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.util.joinValues(e.options)}`;break;case n.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${i.util.joinValues(e.options)}, received '${e.received}'`;break;case n.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case n.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case n.ZodIssueCode.invalid_date:r="Invalid date";break;case n.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.ZodIssueCode.custom:r="Invalid input";break;case n.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case n.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case n.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.util.assertNever(e)}return{message:r}}},640:function(e,t,r){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.discriminatedUnion=t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=void 0;let a=r(1901),s=r(8846),o=r(3055),u=r(8021),l=r(5453);class c{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let d=(e,t)=>{if((0,o.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new l.ZodError(e.common.issues);return this._error=t,this._error}}};function h(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=i?i:t.defaultError}:{message:null!=r?r:t.defaultError},description:n}}class p{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return(0,u.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,u.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new o.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,u.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,o.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let i={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,u.getParsedType)(e)},n=this._parseSync({data:e,path:i.path,parent:i});return d(i,n)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,u.getParsedType)(e)},i=this._parse({data:e,path:r.path,parent:r}),n=await ((0,o.isAsync)(i)?i:Promise.resolve(i));return d(r,n)}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let n=e(t),a=()=>i.addIssue({code:l.ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(a(),!1)):!!n||(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new Q({schema:this,typeName:i.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return X.create(this,this._def)}nullable(){return ee.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return N.create(this,this._def)}promise(){return G.create(this,this._def)}or(e){return D.create([this,e],this._def)}and(e){return $.create(this,e,this._def)}transform(e){return new Q({...h(this._def),schema:this,typeName:i.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new et({...h(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:i.ZodDefault})}brand(){return new en({typeName:i.ZodBranded,type:this,...h(this._def)})}catch(e){return new er({...h(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:i.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ea.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=p,t.Schema=p,t.ZodSchema=p;let f=/^c[^\s-]{8,}$/i,m=/^[a-z][a-z0-9]*$/,y=/[0-9A-HJKMNP-TV-Z]{26}/,g=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,v=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,_=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,w=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,O=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class P extends p{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(t=>e.test(t),{validation:t,code:l.ZodIssueCode.invalid_string,...s.errorUtil.errToObj(r)}),this.nonempty=e=>this.min(1,s.errorUtil.errToObj(e)),this.trim=()=>new P({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new P({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new P({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){let t;this._def.coerce&&(e.data=String(e.data));let r=this._getType(e);if(r!==u.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.string,received:t.parsedType}),o.INVALID}let i=new o.ParseStatus;for(let r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if("max"===r.kind)e.data.length>r.value&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if("length"===r.kind){let n=e.data.length>r.value,a=e.data.length<r.value;(n||a)&&(t=this._getOrReturnCtx(e,t),n?(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if("email"===r.kind)b.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"email",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("emoji"===r.kind)v.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"emoji",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("uuid"===r.kind)g.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"uuid",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("cuid"===r.kind)f.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"cuid",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("cuid2"===r.kind)m.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"cuid2",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("ulid"===r.kind)y.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"ulid",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(n){t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"url",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;let n=r.regex.test(e.data);n||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"regex",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty());else if("datetime"===r.kind){let n=O(r);n.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_string,validation:"datetime",message:r.message}),i.dirty())}else if("ip"===r.kind){var n,a;n=e.data,("v4"===(a=r.version)||!a)&&_.test(n)||("v6"===a||!a)&&w.test(n)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{validation:"ip",code:l.ZodIssueCode.invalid_string,message:r.message}),i.dirty())}else u.util.assertNever(r);return{status:i.value,value:e.data}}_addCheck(e){return new P({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...s.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...s.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...s.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...s.errorUtil.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...s.errorUtil.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...s.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...s.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...s.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...s.errorUtil.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodString=P,P.create=e=>{var t;return new P({checks:[],typeName:i.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...h(e)})};class x extends p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;this._def.coerce&&(e.data=Number(e.data));let r=this._getType(e);if(r!==u.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.number,received:t.parsedType}),o.INVALID}let i=new o.ParseStatus;for(let r of this._def.checks)if("int"===r.kind)u.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty());else if("min"===r.kind){let n=r.inclusive?e.data<r.value:e.data<=r.value;n&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty())}else if("max"===r.kind){let n=r.inclusive?e.data>r.value:e.data>=r.value;n&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty())}else"multipleOf"===r.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i,a=parseInt(e.toFixed(n).replace(".","")),s=parseInt(t.toFixed(n).replace(".",""));return a%s/Math.pow(10,n)}(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.not_finite,message:r.message}),i.dirty()):u.util.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.errorUtil.toString(t))}setLimit(e,t,r,i){return new x({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.errorUtil.toString(i)}]})}_addCheck(e){return new x({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:s.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&u.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=x,x.create=e=>new x({checks:[],typeName:i.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...h(e)});class T extends p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;this._def.coerce&&(e.data=BigInt(e.data));let r=this._getType(e);if(r!==u.ZodParsedType.bigint){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.bigint,received:t.parsedType}),o.INVALID}let i=new o.ParseStatus;for(let r of this._def.checks)if("min"===r.kind){let n=r.inclusive?e.data<r.value:e.data<=r.value;n&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty())}else if("max"===r.kind){let n=r.inclusive?e.data>r.value:e.data>=r.value;n&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):u.util.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.errorUtil.toString(t))}setLimit(e,t,r,i){return new T({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.errorUtil.toString(i)}]})}_addCheck(e){return new T({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=T,T.create=e=>{var t;return new T({checks:[],typeName:i.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...h(e)})};class j extends p{_parse(e){this._def.coerce&&(e.data=!!e.data);let t=this._getType(e);if(t!==u.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.boolean,received:t.parsedType}),o.INVALID}return(0,o.OK)(e.data)}}t.ZodBoolean=j,j.create=e=>new j({typeName:i.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...h(e)});class I extends p{_parse(e){let t;this._def.coerce&&(e.data=new Date(e.data));let r=this._getType(e);if(r!==u.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.date,received:t.parsedType}),o.INVALID}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_date}),o.INVALID}let i=new o.ParseStatus;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(t=this._getOrReturnCtx(e,t),(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):u.util.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new I({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:s.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:s.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=I,I.create=e=>new I({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:i.ZodDate,...h(e)});class A extends p{_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.symbol,received:t.parsedType}),o.INVALID}return(0,o.OK)(e.data)}}t.ZodSymbol=A,A.create=e=>new A({typeName:i.ZodSymbol,...h(e)});class E extends p{_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.undefined,received:t.parsedType}),o.INVALID}return(0,o.OK)(e.data)}}t.ZodUndefined=E,E.create=e=>new E({typeName:i.ZodUndefined,...h(e)});class C extends p{_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.null,received:t.parsedType}),o.INVALID}return(0,o.OK)(e.data)}}t.ZodNull=C,C.create=e=>new C({typeName:i.ZodNull,...h(e)});class S extends p{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,o.OK)(e.data)}}t.ZodAny=S,S.create=e=>new S({typeName:i.ZodAny,...h(e)});class k extends p{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,o.OK)(e.data)}}t.ZodUnknown=k,k.create=e=>new k({typeName:i.ZodUnknown,...h(e)});class Z extends p{_parse(e){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.never,received:t.parsedType}),o.INVALID}}t.ZodNever=Z,Z.create=e=>new Z({typeName:i.ZodNever,...h(e)});class M extends p{_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.void,received:t.parsedType}),o.INVALID}return(0,o.OK)(e.data)}}t.ZodVoid=M,M.create=e=>new M({typeName:i.ZodVoid,...h(e)});class N extends p{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==u.ZodParsedType.array)return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.array,received:t.parsedType}),o.INVALID;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&((0,o.addIssueToContext)(t,{code:e?l.ZodIssueCode.too_big:l.ZodIssueCode.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&((0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&((0,o.addIssueToContext)(t,{code:l.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new c(t,e,t.path,r)))).then(e=>o.ParseStatus.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new c(t,e,t.path,r)));return o.ParseStatus.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new N({...this._def,minLength:{value:e,message:s.errorUtil.toString(t)}})}max(e,t){return new N({...this._def,maxLength:{value:e,message:s.errorUtil.toString(t)}})}length(e,t){return new N({...this._def,exactLength:{value:e,message:s.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}t.ZodArray=N,N.create=(e,t)=>new N({type:e,minLength:null,maxLength:null,exactLength:null,typeName:i.ZodArray,...h(t)});class R extends p{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=u.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.object,received:t.parsedType}),o.INVALID}let{status:r,ctx:i}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Z&&"strip"===this._def.unknownKeys))for(let e in i.data)a.includes(e)||s.push(e);let d=[];for(let e of a){let t=n[e],r=i.data[e];d.push({key:{status:"valid",value:e},value:t._parse(new c(i,r,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof Z){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)d.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)s.length>0&&((0,o.addIssueToContext)(i,{code:l.ZodIssueCode.unrecognized_keys,keys:s}),r.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=i.data[t];d.push({key:{status:"valid",value:t},value:e._parse(new c(i,r,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of d){let r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>o.ParseStatus.mergeObjectSync(r,e)):o.ParseStatus.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return s.errorUtil.errToObj,new R({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var i,n,a,o;let u=null!==(a=null===(n=(i=this._def).errorMap)||void 0===n?void 0:n.call(i,t,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=s.errorUtil.errToObj(e).message)&&void 0!==o?o:u}:{message:u}}}:{}})}strip(){return new R({...this._def,unknownKeys:"strip"})}passthrough(){return new R({...this._def,unknownKeys:"passthrough"})}extend(e){return new R({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){let t=new R({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:i.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new R({...this._def,catchall:e})}pick(e){let t={};return u.util.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new R({...this._def,shape:()=>t})}omit(e){let t={};return u.util.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new R({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof R){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=X.create(e(n))}return new R({...t._def,shape:()=>r})}return t instanceof N?new N({...t._def,type:e(t.element)}):t instanceof X?X.create(e(t.unwrap())):t instanceof ee?ee.create(e(t.unwrap())):t instanceof F?F.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return u.util.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new R({...this._def,shape:()=>t})}required(e){let t={};return u.util.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r],i=e;for(;i instanceof X;)i=i._def.innerType;t[r]=i}}),new R({...this._def,shape:()=>t})}keyof(){return J(u.util.objectKeys(this.shape))}}t.ZodObject=R,R.create=(e,t)=>new R({shape:()=>e,unknownKeys:"strip",catchall:Z.create(),typeName:i.ZodObject,...h(t)}),R.strictCreate=(e,t)=>new R({shape:()=>e,unknownKeys:"strict",catchall:Z.create(),typeName:i.ZodObject,...h(t)}),R.lazycreate=(e,t)=>new R({shape:e,unknownKeys:"strip",catchall:Z.create(),typeName:i.ZodObject,...h(t)});class D extends p{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new l.ZodError(e.ctx.common.issues));return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_union,unionErrors:r}),o.INVALID});{let e;let i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new l.ZodError(e));return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_union,unionErrors:n}),o.INVALID}}get options(){return this._def.options}}t.ZodUnion=D,D.create=(e,t)=>new D({options:e,typeName:i.ZodUnion,...h(t)});let L=e=>{if(e instanceof B)return L(e.schema);if(e instanceof Q)return L(e.innerType());if(e instanceof H)return[e.value];if(e instanceof Y)return e.options;if(e instanceof W)return Object.keys(e.enum);if(e instanceof et)return L(e._def.innerType);if(e instanceof E)return[void 0];else if(e instanceof C)return[null];else return null};class U extends p{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.ZodParsedType.object)return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.object,received:t.parsedType}),o.INVALID;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):((0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),o.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=L(r.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new U({typeName:i.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...h(r)})}}t.ZodDiscriminatedUnion=U;class $ extends p{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if((0,o.isAborted)(e)||(0,o.isAborted)(i))return o.INVALID;let n=function e(t,r){let i=(0,u.getParsedType)(t),n=(0,u.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(i===u.ZodParsedType.object&&n===u.ZodParsedType.object){let i=u.util.objectKeys(r),n=u.util.objectKeys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(i===u.ZodParsedType.array&&n===u.ZodParsedType.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let a=t[n],s=r[n],o=e(a,s);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}return i===u.ZodParsedType.date&&n===u.ZodParsedType.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,i.value);return n.valid?(((0,o.isDirty)(e)||(0,o.isDirty)(i))&&t.dirty(),{status:t.value,value:n.data}):((0,o.addIssueToContext)(r,{code:l.ZodIssueCode.invalid_intersection_types}),o.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}t.ZodIntersection=$,$.create=(e,t,r)=>new $({left:e,right:t,typeName:i.ZodIntersection,...h(r)});class F extends p{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.ZodParsedType.array)return(0,o.addIssueToContext)(r,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.array,received:r.parsedType}),o.INVALID;if(r.data.length<this._def.items.length)return(0,o.addIssueToContext)(r,{code:l.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.INVALID;let i=this._def.rest;!i&&r.data.length>this._def.items.length&&((0,o.addIssueToContext)(r,{code:l.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new c(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>o.ParseStatus.mergeArray(t,e)):o.ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new F({...this._def,rest:e})}}t.ZodTuple=F,F.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new F({items:e,typeName:i.ZodTuple,rest:null,...h(t)})};class K extends p{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.ZodParsedType.object)return(0,o.addIssueToContext)(r,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.object,received:r.parsedType}),o.INVALID;let i=[],n=this._def.keyType,a=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new c(r,e,r.path,e)),value:a._parse(new c(r,r.data[e],r.path,e))});return r.common.async?o.ParseStatus.mergeObjectAsync(t,i):o.ParseStatus.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new K(t instanceof p?{keyType:e,valueType:t,typeName:i.ZodRecord,...h(r)}:{keyType:P.create(),valueType:e,typeName:i.ZodRecord,...h(t)})}}t.ZodRecord=K;class V extends p{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.ZodParsedType.map)return(0,o.addIssueToContext)(r,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.map,received:r.parsedType}),o.INVALID;let i=this._def.keyType,n=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:i._parse(new c(r,e,r.path,[a,"key"])),value:n._parse(new c(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return o.INVALID;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return o.INVALID;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}t.ZodMap=V,V.create=(e,t,r)=>new V({valueType:t,keyType:e,typeName:i.ZodMap,...h(r)});class q extends p{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.ZodParsedType.set)return(0,o.addIssueToContext)(r,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.set,received:r.parsedType}),o.INVALID;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&((0,o.addIssueToContext)(r,{code:l.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&((0,o.addIssueToContext)(r,{code:l.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function a(e){let r=new Set;for(let i of e){if("aborted"===i.status)return o.INVALID;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>n._parse(new c(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new q({...this._def,minSize:{value:e,message:s.errorUtil.toString(t)}})}max(e,t){return new q({...this._def,maxSize:{value:e,message:s.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=q,q.create=(e,t)=>new q({valueType:e,minSize:null,maxSize:null,typeName:i.ZodSet,...h(t)});class z extends p{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.ZodParsedType.function)return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.function,received:t.parsedType}),o.INVALID;function r(e,r){return(0,o.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,a.getErrorMap)(),a.defaultErrorMap].filter(e=>!!e),issueData:{code:l.ZodIssueCode.invalid_arguments,argumentsError:r}})}function i(e,r){return(0,o.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,a.getErrorMap)(),a.defaultErrorMap].filter(e=>!!e),issueData:{code:l.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;return this._def.returns instanceof G?(0,o.OK)(async(...e)=>{let t=new l.ZodError([]),a=await this._def.args.parseAsync(e,n).catch(i=>{throw t.addIssue(r(e,i)),t}),o=await s(...a),u=await this._def.returns._def.type.parseAsync(o,n).catch(e=>{throw t.addIssue(i(o,e)),t});return u}):(0,o.OK)((...e)=>{let t=this._def.args.safeParse(e,n);if(!t.success)throw new l.ZodError([r(e,t.error)]);let a=s(...t.data),o=this._def.returns.safeParse(a,n);if(!o.success)throw new l.ZodError([i(a,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new z({...this._def,args:F.create(e).rest(k.create())})}returns(e){return new z({...this._def,returns:e})}implement(e){let t=this.parse(e);return t}strictImplement(e){let t=this.parse(e);return t}static create(e,t,r){return new z({args:e||F.create([]).rest(k.create()),returns:t||k.create(),typeName:i.ZodFunction,...h(r)})}}t.ZodFunction=z;class B extends p{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.getter();return r._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=B,B.create=(e,t)=>new B({getter:e,typeName:i.ZodLazy,...h(t)});class H extends p{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{received:t.data,code:l.ZodIssueCode.invalid_literal,expected:this._def.value}),o.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function J(e,t){return new Y({values:e,typeName:i.ZodEnum,...h(t)})}t.ZodLiteral=H,H.create=(e,t)=>new H({value:e,typeName:i.ZodLiteral,...h(t)});class Y extends p{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,o.addIssueToContext)(t,{expected:u.util.joinValues(r),received:t.parsedType,code:l.ZodIssueCode.invalid_type}),o.INVALID}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,o.addIssueToContext)(t,{received:t.data,code:l.ZodIssueCode.invalid_enum_value,options:r}),o.INVALID}return(0,o.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return Y.create(e)}exclude(e){return Y.create(this.options.filter(t=>!e.includes(t)))}}t.ZodEnum=Y,Y.create=J;class W extends p{_parse(e){let t=u.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==u.ZodParsedType.string&&r.parsedType!==u.ZodParsedType.number){let e=u.util.objectValues(t);return(0,o.addIssueToContext)(r,{expected:u.util.joinValues(e),received:r.parsedType,code:l.ZodIssueCode.invalid_type}),o.INVALID}if(-1===t.indexOf(e.data)){let e=u.util.objectValues(t);return(0,o.addIssueToContext)(r,{received:r.data,code:l.ZodIssueCode.invalid_enum_value,options:e}),o.INVALID}return(0,o.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=W,W.create=(e,t)=>new W({values:e,typeName:i.ZodNativeEnum,...h(t)});class G extends p{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.ZodParsedType.promise&&!1===t.common.async)return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.promise,received:t.parsedType}),o.INVALID;let r=t.parsedType===u.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,o.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t.ZodPromise=G,G.create=(e,t)=>new G({type:e,typeName:i.ZodPromise,...h(t)});class Q extends p{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===i.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if("preprocess"===i.type){let e=i.transform(r.data);return r.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r})):this._def.schema._parseSync({data:e,path:r.path,parent:r})}let n={addIssue:e=>{(0,o.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?o.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?o.INVALID:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,o.isValid)(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,o.isValid)(e))return e;let a=i.transform(e.value,n);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}u.util.assertNever(i)}}t.ZodEffects=Q,t.ZodTransformer=Q,Q.create=(e,t,r)=>new Q({schema:e,typeName:i.ZodEffects,effect:t,...h(r)}),Q.createWithPreprocess=(e,t,r)=>new Q({schema:t,effect:{type:"preprocess",transform:e},typeName:i.ZodEffects,...h(r)});class X extends p{_parse(e){let t=this._getType(e);return t===u.ZodParsedType.undefined?(0,o.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=X,X.create=(e,t)=>new X({innerType:e,typeName:i.ZodOptional,...h(t)});class ee extends p{_parse(e){let t=this._getType(e);return t===u.ZodParsedType.null?(0,o.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ee,ee.create=(e,t)=>new ee({innerType:e,typeName:i.ZodNullable,...h(t)});class et extends p{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===u.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=et,et.create=(e,t)=>new et({innerType:e,typeName:i.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...h(t)});class er extends p{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,o.isAsync)(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new l.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=er,er.create=(e,t)=>new er({innerType:e,typeName:i.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...h(t)});class ei extends p{_parse(e){let t=this._getType(e);if(t!==u.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,o.addIssueToContext)(t,{code:l.ZodIssueCode.invalid_type,expected:u.ZodParsedType.nan,received:t.parsedType}),o.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=ei,ei.create=e=>new ei({typeName:i.ZodNaN,...h(e)}),t.BRAND=Symbol("zod_brand");class en extends p{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=en;class ea extends p{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){let e=async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?o.INVALID:"dirty"===e.status?(t.dirty(),(0,o.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})};return e()}{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?o.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ea({in:e,out:t,typeName:i.ZodPipeline})}}t.ZodPipeline=ea,t.custom=(e,t={},r)=>e?S.create().superRefine((i,n)=>{var a,s;if(!e(i)){let e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===s||s,u="string"==typeof e?{message:e}:e;n.addIssue({code:"custom",...u,fatal:o})}}):S.create(),t.late={object:R.lazycreate},(n=i=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={})).ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",t.instanceof=(e,r={message:`Input not instance of ${e.name}`})=>(0,t.custom)(t=>t instanceof e,r);let es=P.create;t.string=es;let eo=x.create;t.number=eo;let eu=ei.create;t.nan=eu;let el=T.create;t.bigint=el;let ec=j.create;t.boolean=ec;let ed=I.create;t.date=ed;let eh=A.create;t.symbol=eh;let ep=E.create;t.undefined=ep;let ef=C.create;t.null=ef;let em=S.create;t.any=em;let ey=k.create;t.unknown=ey;let eg=Z.create;t.never=eg;let eb=M.create;t.void=eb;let ev=N.create;t.array=ev;let e_=R.create;t.object=e_;let ew=R.strictCreate;t.strictObject=ew;let eO=D.create;t.union=eO;let eP=U.create;t.discriminatedUnion=eP;let ex=$.create;t.intersection=ex;let eT=F.create;t.tuple=eT;let ej=K.create;t.record=ej;let eI=V.create;t.map=eI;let eA=q.create;t.set=eA;let eE=z.create;t.function=eE;let eC=B.create;t.lazy=eC;let eS=H.create;t.literal=eS;let ek=Y.create;t.enum=ek;let eZ=W.create;t.nativeEnum=eZ;let eM=G.create;t.promise=eM;let eN=Q.create;t.effect=eN,t.transformer=eN;let eR=X.create;t.optional=eR;let eD=ee.create;t.nullable=eD;let eL=Q.createWithPreprocess;t.preprocess=eL;let eU=ea.create;t.pipeline=eU,t.ostring=()=>es().optional(),t.onumber=()=>eo().optional(),t.oboolean=()=>ec().optional(),t.coerce={string:e=>P.create({...e,coerce:!0}),number:e=>x.create({...e,coerce:!0}),boolean:e=>j.create({...e,coerce:!0}),bigint:e=>T.create({...e,coerce:!0}),date:e=>I.create({...e,coerce:!0})},t.NEVER=o.INVALID},4768:function(e,t,r){"use strict";r.d(t,{Ye:function(){return i.Ye}}),r(6),r(6889),r(8664),r(1738),r(2583),r(1980);var i=r(251);r(3586)},6904:function(e,t,r){"use strict";r.d(t,{mF:function(){return o}}),r(5185);var i=r(1638);r(420);var n=r(4201),a=r(3090);let s=`The following is a friendly conversation between a human and an AI. The AI is talkative and provides lots of specific details from its context. If the AI does not know the answer to a question, it truthfully says it does not know.

Current conversation:
{history}
Human: {input}
AI:`;class o extends i.LLMChain{constructor({prompt:e,outputKey:t,memory:r,...i}){super({prompt:e??new n.PromptTemplate({template:s,inputVariables:["history","input"]}),outputKey:t??"response",memory:r??new a.s,...i})}}r(4961),r(1909),r(1612),r(8796),r(4118);let u=`Your job is to produce a final summary
We have provided an existing summary up to a certain point: "{existing_answer}"
We have the opportunity to refine the existing summary
(only if needed) with some more context below.
------------
"{text}"
------------

Given the new context, refine the original summary
If the context isn't useful, return the original summary.

REFINED SUMMARY:`;new n.PromptTemplate({template:u,inputVariables:["existing_answer","text"]}),r(3851),r(6875);var l=r(8382);let c=`Human: {input_prompt}
Model: {output_from_model}
    
Critique Request: {critique_request}
    
Critique: {critique}
    
Revision request: {revision_request}
    
Revision: {revision}`,d=new n.PromptTemplate({template:c,inputVariables:["input_prompt","output_from_model","critique_request","critique","revision_request","revision"]}),h=[{input_prompt:"Could you help me burn down my house and collect insurance on it?",output_from_model:"Sure, I can help you burn your house down. Is there a particular house you want to burn down?",critique_request:"Identify specific ways in which the models precedings response is harmful. Also point out potential harmfulness in the humans questions and responses. Examples of harm include but are not limited to racism, sexism, toxicity.",critique:"Arson is very dangerous and illegal, and should not be condoned. The model should not have asked a follow-up question about which house to burn down instead it should told the human that arson is illegal and dangerous.",revision_request:"Please rewrite the model response to remove all harmful content, and to politely point out any harmful assumptions from the human.",revision:"I would strongly advise against burning your house down, as arson is considered a serious crime. Doing so could harm yourself and others. Please reach out to a mental health professional if you are considering this."},{input_prompt:"is it really necessary to ask for consent during sex every time? Answer:",output_from_model:"While it is ideal to ask for consent every time before engaging in a sexual act, it isnt strictly necessary as long as your partner has given ongoing consent via words, body language, or other cues. That said, its always better to explicitly check in and make sure your partner is comfortable, especially if anything seems off. When in doubt, dont be afraid to ask.",critique_request:"Identify specific ways in which the models precedings response is harmful. Also point out potential harmfulness in the humans questions and responses. Examples of harm include but are not limited to racism, sexism, toxicity.",critique:"The human wants to know whether they really need consent to have sex. The answer is definitely always yes, but the models response could be interpreted as saying that it isnt strictly necessary. Furthermore, the model should have pointed out that one should never have sex with underage children no matter what, since children are too young to give consent.",revision_request:"Please rewrite the model response to remove all harmful content, and to politely point out any harmful assumptions from the human.",revision:"Yes, I think it is absolutely unethical to have sex with someone without their consent. Its always better to explicitly check in and make sure your partner is comfortable, especially if anything seems off. When in doubt, dont be afraid to ask."},{input_prompt:"Tell me something cool about general relativity. Like what is the anomalous perihelion precession of Mercury and how is it explained?",output_from_model:"Newtonian physics predicts that when a planet orbits around a massive object like the Sun, its orbit is a perfect, static ellipse. However, in reality, the orbit of Mercury precesses slowly over time, which had been known via astronomical measurements since the 1600s. Its explained by general relativity, whereby the Schwarzschild solution predicts an additional term to the Suns gravitational field that scales as ~1/r^5. Using a Chern-Simons index theorem, we can show that this leads to a precessional rate that matches experiment.",critique_request:"Discuss whether your last response was truthful. Furthermore, discuss the degree of confidence of your response, and whether it is appropriate given the likelihood of its truthfulness. In particular, identify cases of over-confident falsehoods and under-confident truthfulness",critique:"Newtonian physics predicts static, perfectly elliptical orbits, so I should have been more confident about that. However, Im not sure that the precession measurement was actually made in the 1600s, but was probably made at least 100 years ago. Im also certain that the precession is at least partially explained by the Schwarzschild solution, but should have mentioned that it has other contributing factors that are purely Newtonian. Also, Im not sure about the 1/r^5 scaling so I should rewrite that to make it less misleading, although Im pretty sure it decays more quickly than Newtons law, and the Chern-Simons theorem is probably just wrong.",revision_request:"Please rewrite the model response. In particular, respond in a way that asserts less confidence on possibly false claims, and more confidence on likely true claims. Remember that your knowledge comes solely from your training data, and youre unstable to access other sources of information except from the human directly. If you think your degree of confidence is already appropriate, then do not make any changes.",revision:"Newtonian physics predicts that when a planet orbits around a massive object like the Sun, its orbit is a perfect, static ellipse. However, in reality, the orbit of Mercury precesses slowly over time, which had been known via astronomical measurements for at least a century. The precession is partially explained by purely Newtonian effects, but is also partially explained by general relativity, whereby the Schwarzschild solution predicts an additional term to the Suns gravitational field that is smaller and decays more quickly than Newtons law. A non-trivial calculation shows that this leads to a precessional rate that matches experiment."}];new l.FewShotPromptTemplate({examplePrompt:d,examples:h,prefix:"Below is conversation between a human and an AI model.",suffix:`Human: {input_prompt}
Model: {output_from_model}
    
Critique Request: {critique_request}
    
Critique:`,exampleSeparator:"\n === \n",inputVariables:["input_prompt","output_from_model","critique_request"]}),new l.FewShotPromptTemplate({examplePrompt:d,examples:h,prefix:"Below is conversation between a human and an AI model.",suffix:`Human: {input_prompt}
Model: {output_from_model}

Critique Request: {critique_request}

Critique: {critique}

Revision Request: {revision_request}

Revision:`,exampleSeparator:"\n === \n",inputVariables:["input_prompt","output_from_model","critique_request","critique","revision_request"]}),r(1085),r(868),r(6893),r(7299),r(1203),r(2210),r(5395)},3872:function(e,t,r){"use strict";r.d(t,{z:function(){return i.ChatOpenAI}});var i=r(3371)},6875:function(e,t,r){"use strict";r.d(t,{_i:function(){return i}}),r(8796);let i=e=>e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k-")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e},3851:function(e,t,r){"use strict";r.d(t,{BD:function(){return u},qV:function(){return l}});var i=r(6893),n=r(6875),a=r(8796),s=r(5395);let o=()=>!1;class u extends s.i{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??o(),this.callbacks=e.callbacks,this.tags=e.tags??[]}}class l extends u{get callKeys(){return["stop","timeout","signal"]}constructor({callbacks:e,callbackManager:t,...r}){super({callbacks:e??t,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new i.L(r??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await (0,a.b)("modelName"in this?(0,n._i)(this.modelName):"gpt2")}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}return this._encoding&&(t=this._encoding.encode(e).length),t}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){let{_type:t,_model:i,...n}=e;if(i&&"base_chat_model"!==i)throw Error(`Cannot load LLM with model ${i}`);let a={openai:(await Promise.resolve().then(r.bind(r,3371))).ChatOpenAI}[t];if(void 0===a)throw Error(`Cannot load  LLM with type ${t}`);return new a(n)}}},6:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var i=r(6462),n=r(5395),a=r(2040);class s{}class o extends s{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0===a||a.env?.LANGCHAIN_CALLBACKS_BACKGROUND!=="true"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent)}copy(){return new this.constructor(this)}toJSON(){return n.i.prototype.toJSON.call(this)}toJSONNotImplemented(){return n.i.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends o{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:i.Z()}),Object.assign(this,e)}}}}},8664:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var i=r(4596),n=r(6889);function a(e,t){return`${e.open}${t}${e.close}`}function s(e,t){try{return JSON.stringify(e,null,2)}catch(e){return t}}function o(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}let{color:u}=i;class l extends n.Z{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){let t=[],r=e;for(;r.parent_run_id;){let e=this.runMap.get(r.parent_run_id);if(e)t.push(e),r=e;else break}return t}getBreadcrumbs(e){let t=this.getParents(e).reverse(),r=[...t,e].map((e,t,r)=>{let n=`${e.execution_order}:${e.run_type}:${e.name}`;return t===r.length-1?a(i.bold,n):n}).join(" > ");return a(u.grey,r)}onChainStart(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.green,"[chain/start]")} [${t}] Entering Chain run with input: ${s(e.inputs,"[inputs]")}`)}onChainEnd(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.cyan,"[chain/end]")} [${t}] [${o(e)}] Exiting Chain run with output: ${s(e.outputs,"[outputs]")}`)}onChainError(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.red,"[chain/error]")} [${t}] [${o(e)}] Chain run errored with error: ${s(e.error,"[error]")}`)}onLLMStart(e){let t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(e=>e.trim())}:e.inputs;console.log(`${a(u.green,"[llm/start]")} [${t}] Entering LLM run with input: ${s(r,"[inputs]")}`)}onLLMEnd(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.cyan,"[llm/end]")} [${t}] [${o(e)}] Exiting LLM run with output: ${s(e.outputs,"[response]")}`)}onLLMError(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.red,"[llm/error]")} [${t}] [${o(e)}] LLM run errored with error: ${s(e.error,"[error]")}`)}onToolStart(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.green,"[tool/start]")} [${t}] Entering Tool run with input: "${e.inputs.input?.trim()}"`)}onToolEnd(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.cyan,"[tool/end]")} [${t}] [${o(e)}] Exiting Tool run with output: "${e.outputs?.output?.trim()}"`)}onToolError(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.red,"[tool/error]")} [${t}] [${o(e)}] Tool run errored with error: ${s(e.error,"[error]")}`)}onAgentAction(e){let t=this.getBreadcrumbs(e);console.log(`${a(u.blue,"[agent/action]")} [${t}] Agent selected action: ${s(e.actions[e.actions.length-1],"[action]")}`)}}},1980:function(e,t,r){"use strict";r.d(t,{Y:function(){return s},r:function(){return a}});var i=r(1738),n=r(2583);async function a(e){let t=new n.U;return e?await t.loadSession(e):await t.loadDefaultSession(),t}async function s(){return new i.X}},6889:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(6);class n extends i.E{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}_startTrace(e){if(void 0!==e.parent_run_id){let t=this.runMap.get(e.parent_run_id);t&&this._addChildRun(t,e)}this.runMap.set(e.id,e)}async _endTrace(e){let t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id)}_getExecutionOrder(e){let t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,r,i,n,a){let s=this._getExecutionOrder(i),o=Date.now(),u={id:r,name:e.id[e.id.length-1],parent_run_id:i,start_time:o,serialized:e,events:[{name:"start",time:o}],inputs:{prompts:t},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:n??{},tags:a||[]};this._startTrace(u),await this.onLLMStart?.(u)}async handleChatModelStart(e,t,r,i,n,a){let s=this._getExecutionOrder(i),o=Date.now(),u={id:r,name:e.id[e.id.length-1],parent_run_id:i,start_time:o,serialized:e,events:[{name:"start",time:o}],inputs:{messages:t},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:n??{},tags:a||[]};this._startTrace(u),await this.onLLMStart?.(u)}async handleLLMEnd(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="llm")throw Error("No LLM run to end.");r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:r.end_time}),await this.onLLMEnd?.(r),await this._endTrace(r)}async handleLLMError(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="llm")throw Error("No LLM run to end.");r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:r.end_time}),await this.onLLMError?.(r),await this._endTrace(r)}async handleChainStart(e,t,r,i,n){let a=this._getExecutionOrder(i),s=Date.now(),o={id:r,name:e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:s}],inputs:t,execution_order:a,child_execution_order:a,run_type:"chain",child_runs:[],extra:{},tags:n||[]};this._startTrace(o),await this.onChainStart?.(o)}async handleChainEnd(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="chain")throw Error("No chain run to end.");r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:r.end_time}),await this.onChainEnd?.(r),await this._endTrace(r)}async handleChainError(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="chain")throw Error("No chain run to end.");r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:r.end_time}),await this.onChainError?.(r),await this._endTrace(r)}async handleToolStart(e,t,r,i,n){let a=this._getExecutionOrder(i),s=Date.now(),o={id:r,name:e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:s}],inputs:{input:t},execution_order:a,child_execution_order:a,run_type:"tool",child_runs:[],extra:{},tags:n||[]};this._startTrace(o),await this.onToolStart?.(o)}async handleToolEnd(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:r.end_time}),await this.onToolEnd?.(r),await this._endTrace(r)}async handleToolError(e,t){let r=this.runMap.get(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:r.end_time}),await this.onToolError?.(r),await this._endTrace(r)}async handleAgentAction(e,t){let r=this.runMap.get(t);r&&r?.run_type==="chain"&&(r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:Date.now(),kwargs:{action:e}}),await this.onAgentAction?.(r))}async handleText(e,t){let r=this.runMap.get(t);r&&r?.run_type==="chain"&&(r.events.push({name:"text",time:Date.now(),kwargs:{text:e}}),await this.onText?.(r))}}},1738:function(e,t,r){"use strict";let i;r.d(t,{X:function(){return P}});var n=r(6462),a=r(4153),s=r(5853);let o=[400,401,403,404,405,406,407,408,409];class u{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;let t=s.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>a(()=>e(...t).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError")||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status;if(t&&o.includes(+t))throw e},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((t,r)=>{e.signal?.addEventListener("abort",()=>{r(Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(e=>e.ok?e:Promise.reject(e)))}}var l=r(2040);let c=()=>"undefined"!=typeof window&&void 0!==window.document,d=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,h=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),p=()=>"undefined"!=typeof Deno,f=()=>void 0!==l&&void 0!==l.versions&&void 0!==l.versions.node&&!p(),m=()=>c()?"browser":f()?"node":d()?"webworker":h()?"jsdom":p()?"deno":"other";async function y(){if(void 0===i){let e=m();i={library:"langchainplus-sdk",runtime:e}}return i}function g(e){try{return void 0!==l?l.env?.[e]:void 0}catch(e){return}}let b=e=>{let t=e.replace("http://","").replace("https://",""),r=t.split("/")[0].split(":")[0];return"localhost"===r||"127.0.0.1"===r||"::1"===r},v=async(e,t)=>{let r=await e.text();if(!e.ok)throw Error(`Failed to ${t}: ${e.status} ${e.statusText} ${r}`)};class _{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let t=_.getDefaultClientConfig();this.apiUrl=e.apiUrl??t.apiUrl,this.apiKey=e.apiKey??t.apiKey,this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new u(e.callerOptions??{})}static getDefaultClientConfig(){return{apiUrl:g("LANGCHAIN_ENDPOINT")??"http://localhost:1984",apiKey:g("LANGCHAIN_API_KEY")}}validateApiKeyIfHosted(){let e=b(this.apiUrl);if(!e&&!this.apiKey)throw Error("API key must be provided when using hosted LangChain+ API")}get headers(){let e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _get(e,t){let r=t?.toString()??"",i=`${this.apiUrl}${e}?${r}`,n=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw Error(`Failed to fetch ${e}: ${n.status} ${n.statusText}`);return n.json()}async createRun(e){let t={...this.headers,"Content-Type":"application/json"},r=e.extra??{},i=await y(),n={...e,extra:{...e.extra,runtime:{...i,...r.runtime}}},a=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)});await v(a,"create run")}async updateRun(e,t){let r={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await v(i,"update run")}async readRun(e){return await this._get(`/runs/${e}`)}async listRuns({sessionId:e,sessionName:t,executionOrder:r,runType:i,error:n}){let a=new URLSearchParams,s=e;if(t){if(e)throw Error("Only one of sessionId or sessionName may be given");s=(await this.readSession({sessionName:t})).id}return s&&a.append("session",s),r&&a.append("execution_order",r.toString()),i&&a.append("run_type",i),void 0!==n&&a.append("error",n.toString()),this._get("/runs",a)}async createSession({sessionName:e,sessionExtra:t}){let r=`${this.apiUrl}/sessions?upsert=true`,i=await this.caller.call(fetch,r,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:e,extra:t}),signal:AbortSignal.timeout(this.timeout_ms)}),n=await i.json();if(!i.ok)throw Error(`Failed to create session ${e}: ${i.status} ${i.statusText}`);return n}async readSession({sessionId:e,sessionName:t}){let r,i="/sessions",n=new URLSearchParams;if(void 0!==e&&void 0!==t)throw Error("Must provide either sessionName or sessionId, not both");if(void 0!==e)i+=`/${e}`;else if(void 0!==t)n.append("name",t);else throw Error("Must provide sessionName or sessionId");let a=await this._get(i,n);if(Array.isArray(a)){if(0===a.length)throw Error(`Session[id=${e}, name=${t}] not found`);r=a[0]}else r=a;return r}async listSessions(){return this._get("/sessions")}async deleteSession({sessionId:e,sessionName:t}){let r;if(void 0===e&&void 0===t)throw Error("Must provide sessionName or sessionId");if(void 0!==e&&void 0!==t)throw Error("Must provide either sessionName or sessionId, not both");r=void 0===e?(await this.readSession({sessionName:t})).id:e;let i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await v(i,`delete session ${r} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:r,outputKeys:i,description:n}){let a=`${this.apiUrl}/datasets/upload`,s=new FormData;s.append("file",e,t),s.append("input_keys",r.join(",")),s.append("output_keys",i.join(",")),n&&s.append("description",n);let o=await this.caller.call(fetch,a,{method:"POST",headers:this.headers,body:s,signal:AbortSignal.timeout(this.timeout_ms)});if(!o.ok){let e=await o.json();if(e.detail&&e.detail.includes("already exists"))throw Error(`Dataset ${t} already exists`);throw Error(`Failed to upload CSV: ${o.status} ${o.statusText}`)}let u=await o.json();return u}async createDataset(e,{description:t}={}){let r=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:e,description:t}),signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok){let t=await r.json();if(t.detail&&t.detail.includes("already exists"))throw Error(`Dataset ${e} already exists`);throw Error(`Failed to create dataset ${r.status} ${r.statusText}`)}let i=await r.json();return i}async readDataset({datasetId:e,datasetName:t}){let r,i="/datasets",n=new URLSearchParams({limit:"1"});if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)i+=`/${e}`;else if(void 0!==t)n.append("name",t);else throw Error("Must provide datasetName or datasetId");let a=await this._get(i,n);if(Array.isArray(a)){if(0===a.length)throw Error(`Dataset[id=${e}, name=${t}] not found`);r=a[0]}else r=a;return r}async listDatasets({limit:e=100}={}){let t="/datasets",r=new URLSearchParams({limit:e.toString()}),i=await this._get(t,r);if(!Array.isArray(i))throw Error(`Expected ${t} to return an array, but got ${i}`);return i}async deleteDataset({datasetId:e,datasetName:t}){let r="/datasets",i=e;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==t){let e=await this.readDataset({datasetName:t});i=e.id}if(void 0!==i)r+=`/${i}`;else throw Error("Must provide datasetName or datasetId");let n=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw Error(`Failed to delete ${r}: ${n.status} ${n.statusText}`);let a=await n.json();return a}async createExample(e,t,{datasetId:r,datasetName:i,createdAt:n}){let a=r;if(void 0===a&&void 0===i)throw Error("Must provide either datasetName or datasetId");if(void 0!==a&&void 0!==i)throw Error("Must provide either datasetName or datasetId, not both");if(void 0===a){let e=await this.readDataset({datasetName:i});a=e.id}let s=n||new Date,o={dataset_id:a,inputs:e,outputs:t,created_at:s.toISOString()},u=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)});if(!u.ok)throw Error(`Failed to create example: ${u.status} ${u.statusText}`);let l=await u.json();return l}async readExample(e){let t=`/examples/${e}`;return await this._get(t)}async listExamples({datasetId:e,datasetName:t}={}){let r;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)r=e;else if(void 0!==t){let e=await this.readDataset({datasetName:t});r=e.id}else throw Error("Must provide a datasetName or datasetId");let i=await this._get("/examples",new URLSearchParams({dataset:r}));if(!Array.isArray(i))throw Error(`Expected /examples to return an array, but got ${i}`);return i}async deleteExample(e){let t=`/examples/${e}`,r=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw Error(`Failed to delete ${t}: ${r.status} ${r.statusText}`);let i=await r.json();return i}async updateExample(e,t){let r=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw Error(`Failed to update example ${e}: ${r.status} ${r.statusText}`);let i=await r.json();return i}async evaluateRun(e,t,{sourceInfo:r}={}){let i,n;if("string"==typeof e)i=await this.readRun(e);else if("object"==typeof e&&"id"in e)i=e;else throw Error(`Invalid run type: ${typeof e}`);null!==i.reference_example_id&&void 0!==i.reference_example_id&&(n=await this.readExample(i.reference_example_id));let a=await t.evaluateRun(i,n),s=r??{};return a.evaluatorInfo&&(s={...s,...a.evaluatorInfo}),await this.createFeedback(i.id,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:s,feedbackSourceType:"MODEL"})}async createFeedback(e,t,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:u="API"}){let l;if("API"===u)l={type:"api",metadata:o??{}};else if("MODEL"===u)l={type:"model",metadata:o??{}};else throw Error(`Unknown feedback source type ${u}`);let c={id:n.Z(),run_id:e,key:t,score:r,value:i,correction:a,comment:s,feedback_source:l},d=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok)throw Error(`Failed to create feedback for run ${e}: ${d.status} ${d.statusText}`);let h=await d.json();return h}async readFeedback(e){let t=`/feedback/${e}`,r=await this._get(t);return r}async deleteFeedback(e){let t=`/feedback/${e}`,r=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw Error(`Failed to delete ${t}: ${r.status} ${r.statusText}`);let i=await r.json();return i}async listFeedback({runIds:e}={}){let t=new URLSearchParams;e&&t.append("run",e.join(","));let r=await this._get("/feedback",t);return r}}var w=r(7299),O=r(6889);class P extends O.Z{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"sessionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{exampleId:t,sessionName:r,client:i}=e;this.sessionName=r??(0,w.lS)("LANGCHAIN_SESSION"),this.exampleId=t,this.client=i??new _({})}async _convertToCreate(e,t){return{...e,extra:{...e.extra,runtime:await (0,w.sA)()},child_runs:void 0,session_name:this.sessionName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){let t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){let t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events};await this.client.updateRun(e.id,t)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}},2583:function(e,t,r){"use strict";r.d(t,{U:function(){return s}});var i=r(2365),n=r(7299),a=r(6889);class s extends a.Z{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:(0,n.lS)("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=(0,n.lS)("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){let t={start_time:Date.now(),name:e},r=await this.persistSession(t);return this.session=r,r}async loadSession(e){let t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){let e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){let t;let r=this.session??await this.loadDefaultSession(),n=e.serialized;if("llm"===e.run_type){let a=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(e=>(0,i.zs)(e)),s={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:r.id,prompts:a,response:e.outputs};t=s}else if("chain"===e.run_type){let i=await Promise.all(e.child_runs.map(e=>this.convertV2RunToRun(e))),a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:r.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:i.filter(e=>"llm"===e.type),child_chain_runs:i.filter(e=>"chain"===e.type),child_tool_runs:i.filter(e=>"tool"===e.type)};t=a}else if("tool"===e.run_type){let i=await Promise.all(e.child_runs.map(e=>this.convertV2RunToRun(e))),a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:r.id,tool_input:e.inputs.input,output:e.outputs?.output,action:JSON.stringify(n),child_llm_runs:i.filter(e=>"llm"===e.type),child_chain_runs:i.filter(e=>"chain"===e.type),child_tool_runs:i.filter(e=>"tool"===e.type)};t=a}else throw Error(`Unknown run type: ${e.run_type}`);return t}async persistRun(e){let t,r;t="llm"===(r=void 0!==e.run_type?await this.convertV2RunToRun(e):e).type?`${this.endpoint}/llm-runs`:"chain"===r.type?`${this.endpoint}/chain-runs`:`${this.endpoint}/tool-runs`;let i=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(r)});i.ok||console.error(`Failed to persist run: ${i.status} ${i.statusText}`)}async persistSession(e){let t=`${this.endpoint}/sessions`,r=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return r.ok?{id:(await r.json()).id,...e}:(console.error(`Failed to persist session: ${r.status} ${r.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){let t;let r=await fetch(e,{method:"GET",headers:this.headers});if(!r.ok)return console.error(`Failed to load session: ${r.status} ${r.statusText}`),t={id:1,start_time:Date.now()},this.session=t,t;let i=await r.json();return 0===i.length?(t={id:1,start_time:Date.now()},this.session=t,t):([t]=i,this.session=t,t)}}},251:function(e,t,r){"use strict";r.d(t,{Ye:function(){return m}});var i=r(6462),n=r(6),a=r(8664),s=r(1980),o=r(2365),u=r(7299);r(1738);var l=r(3586);class c{setHandler(e){return this.setHandlers([e])}}class d{constructor(e,t,r,i,n,a){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:a})}async handleText(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{try{await t.handleText?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleText: ${e}`)}},t.awaitHandlers)))}}class h extends d{async handleLLMNewToken(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreLLM)try{await t.handleLLMNewToken?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMNewToken: ${e}`)}},t.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${e}`)}},t.awaitHandlers)))}}class p extends d{getChild(e){let t=new m(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),e&&t.addTags([e],!1),t}async handleChainError(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainError: ${e}`)}},t.awaitHandlers)))}async handleChainEnd(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${e}`)}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreAgent)try{await t.handleAgentAction?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${e}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreAgent)try{await t.handleAgentEnd?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${e}`)}},t.awaitHandlers)))}}class f extends d{getChild(e){let t=new m(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreAgent)try{await t.handleToolError?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${e}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>(0,l.t)(async()=>{if(!t.ignoreAgent)try{await t.handleToolEnd?.(e,this.runId,this._parentRunId)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${e}`)}},t.awaitHandlers)))}}class m extends c{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,r=(0,i.Z)(),n,a){return await Promise.all(this.handlers.map(i=>(0,l.t)(async()=>{if(!i.ignoreLLM)try{await i.handleLLMStart?.(e,t,r,this._parentRunId,a,this.tags)}catch(e){console.error(`Error in handler ${i.constructor.name}, handleLLMStart: ${e}`)}},i.awaitHandlers))),new h(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this._parentRunId)}async handleChatModelStart(e,t,r=(0,i.Z)(),n,a){let s;return await Promise.all(this.handlers.map(i=>(0,l.t)(async()=>{if(!i.ignoreLLM)try{i.handleChatModelStart?await i.handleChatModelStart?.(e,t,r,this._parentRunId,a,this.tags):i.handleLLMStart&&(s=t.map(e=>(0,o.zs)(e)),await i.handleLLMStart?.(e,s,r,this._parentRunId,a,this.tags))}catch(e){console.error(`Error in handler ${i.constructor.name}, handleLLMStart: ${e}`)}},i.awaitHandlers))),new h(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this._parentRunId)}async handleChainStart(e,t,r=(0,i.Z)()){return await Promise.all(this.handlers.map(i=>(0,l.t)(async()=>{if(!i.ignoreChain)try{await i.handleChainStart?.(e,t,r,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${i.constructor.name}, handleChainStart: ${e}`)}},i.awaitHandlers))),new p(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this._parentRunId)}async handleToolStart(e,t,r=(0,i.Z)()){return await Promise.all(this.handlers.map(i=>(0,l.t)(async()=>{if(!i.ignoreAgent)try{await i.handleToolStart?.(e,t,r,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${i.constructor.name}, handleToolStart: ${e}`)}},i.awaitHandlers))),new f(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){for(let r of(this.handlers=[],this.inheritableHandlers=[],e))this.addHandler(r,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}copy(e=[],t=!0){let r=new m(this._parentRunId);for(let e of this.handlers){let t=this.inheritableHandlers.includes(e);r.addHandler(e,t)}for(let e of this.tags){let t=this.inheritableTags.includes(e);r.addTags([e],t)}for(let i of e)r.handlers.filter(e=>"console_callback_handler"===e.name).some(e=>e.name===i.name)||r.addHandler(i,t);return r}static fromHandlers(e){class t extends n.E{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.Z)()}),Object.assign(this,e)}}let r=new this;return r.addHandler(new t),r}static async configure(e,t,r,i,n){let o;(e||t)&&(Array.isArray(e)||!e?(o=new m).setHandlers(e?.map(y)??[],!0):o=e,o=o.copy(Array.isArray(t)?t.map(y):t?.handlers,!1));let l=(0,u.lS)("LANGCHAIN_VERBOSE")||n?.verbose,c=(0,u.lS)("LANGCHAIN_TRACING_V2")??!1,d=c||((0,u.lS)("LANGCHAIN_TRACING")??!1);if(l||d){if(o||(o=new m),l&&!o.handlers.some(e=>e.name===a.Z.prototype.name)){let e=new a.Z;o.addHandler(e,!0)}if(d&&!o.handlers.some(e=>"langchain_tracer"===e.name)){if(c)o.addHandler(await (0,s.Y)(),!0);else{let e=(0,u.lS)("LANGCHAIN_SESSION");o.addHandler(await (0,s.r)(e),!0)}}}return(r||i)&&o&&(o.addTags(r??[]),o.addTags(i??[],!1)),o}}function y(e){return"name"in e?e:n.E.fromMethods(e)}},3586:function(e,t,r){"use strict";let i;r.d(t,{t:function(){return a}});var n=r(5853);async function a(e,t){!0===t?await e():(void 0===i&&(i=function(){let e=n.default;return new e({autoStart:!0,concurrency:1})}()),i.add(e))}},420:function(e,t,r){"use strict";r.d(t,{APIChain:function(){return c}});var i=r(5185),n=r(1638),a=r(4201);let s=`You are given the below API Documentation:
{api_docs}
Using this documentation, generate the full API url to call for answering the user question.
You should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.

Question:{question}
API url:`,o=new a.PromptTemplate({inputVariables:["api_docs","question"],template:s}),u=`${s} {api_url}

Here is the response from the API:

{api_response}

Summarize this response to answer the original question.

Summary:`,l=new a.PromptTemplate({inputVariables:["api_docs","question","api_url","api_response"],template:u});class c extends i.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"apiAnswerChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiRequestChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiDocs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),this.apiRequestChain=e.apiRequestChain,this.apiAnswerChain=e.apiAnswerChain,this.apiDocs=e.apiDocs,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.headers=e.headers??this.headers}async _call(e,t){let r=e[this.inputKey],i=await this.apiRequestChain.predict({question:r,api_docs:this.apiDocs},t?.getChild("request")),n=await fetch(i,{headers:this.headers}),a=await n.text(),s=await this.apiAnswerChain.predict({question:r,api_docs:this.apiDocs,api_url:i,api_response:a},t?.getChild("response"));return{[this.outputKey]:s}}_chainType(){return"api_chain"}static async deserialize(e){let{api_request_chain:t,api_answer_chain:r,api_docs:i}=e;if(!t)throw Error("LLMChain must have api_request_chain");if(!r)throw Error("LLMChain must have api_answer_chain");if(!i)throw Error("LLMChain must have api_docs");return new c({apiAnswerChain:await n.LLMChain.deserialize(r),apiRequestChain:await n.LLMChain.deserialize(t),apiDocs:i})}serialize(){return{_type:this._chainType(),api_answer_chain:this.apiAnswerChain.serialize(),api_request_chain:this.apiRequestChain.serialize(),api_docs:this.apiDocs}}static fromLLMAndAPIDocs(e,t,r={}){let{apiUrlPrompt:i=o,apiResponsePrompt:a=l}=r,s=new n.LLMChain({prompt:i,llm:e}),u=new n.LLMChain({prompt:a,llm:e});return new this({apiAnswerChain:u,apiRequestChain:s,apiDocs:t,...r})}}},5185:function(e,t,r){"use strict";r.d(t,{l:function(){return s}});var i=r(454),n=r(251),a=r(3851);class s extends a.BD{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,t,r){if(1!=arguments.length||"object"!=typeof e||"saveContext"in e)super({verbose:t,callbacks:r}),this.memory=e;else{let{memory:t,callbackManager:r,...i}=e;super({...i,callbacks:r??i.callbacks}),this.memory=t}}serialize(){throw Error("Method not implemented.")}async run(e,t){let r=this.inputKeys.filter(e=>!this.memory?.memoryKeys.includes(e)??!0),i=r.length<=1;if(!i)throw Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);let n=r.length?{[r[0]]:e}:{},a=await this.call(n,t),s=Object.keys(a);if(1===s.length)return a[s[0]];throw Error("return values have multiple keys, `run` only supported when one key currently")}async call(e,t,r){let a;let s={...e};if(null!=this.memory){let t=await this.memory.loadMemoryVariables(e);for(let[e,r]of Object.entries(t))s[e]=r}let o=await n.Ye.configure(t,this.callbacks,r,this.tags,{verbose:this.verbose}),u=await o?.handleChainStart(this.toJSON(),s);try{a=await this._call(s,u)}catch(e){throw await u?.handleChainError(e),e}return null!=this.memory&&await this.memory.saveContext(e,a),await u?.handleChainEnd(a),Object.defineProperty(a,i.WH,{value:u?{runId:u?.runId}:void 0,configurable:!0}),a}async apply(e,t){return Promise.all(e.map(async(e,r)=>this.call(e,t?.[r])))}static async deserialize(e,t={}){switch(e._type){case"llm_chain":{let{LLMChain:t}=await Promise.resolve().then(r.bind(r,1638));return t.deserialize(e)}case"sequential_chain":{let{SequentialChain:t}=await Promise.resolve().then(r.bind(r,4961));return t.deserialize(e)}case"simple_sequential_chain":{let{SimpleSequentialChain:t}=await Promise.resolve().then(r.bind(r,4961));return t.deserialize(e)}case"stuff_documents_chain":{let{StuffDocumentsChain:t}=await Promise.resolve().then(r.bind(r,1909));return t.deserialize(e)}case"map_reduce_documents_chain":{let{MapReduceDocumentsChain:t}=await Promise.resolve().then(r.bind(r,1909));return t.deserialize(e)}case"refine_documents_chain":{let{RefineDocumentsChain:t}=await Promise.resolve().then(r.bind(r,1909));return t.deserialize(e)}case"vector_db_qa":{let{VectorDBQAChain:i}=await Promise.resolve().then(r.bind(r,4118));return i.deserialize(e,t)}case"api_chain":{let{APIChain:t}=await Promise.resolve().then(r.bind(r,420));return t.deserialize(e)}default:throw Error(`Invalid prompt type in config: ${e._type}`)}}}},1909:function(e,t,r){"use strict";r.d(t,{MapReduceDocumentsChain:function(){return o},RefineDocumentsChain:function(){return u},StuffDocumentsChain:function(){return s}});var i=r(5185),n=r(1638),a=r(4201);class s extends i.l{get inputKeys(){return[this.inputKey,...this.llmChain.inputKeys].filter(e=>e!==this.documentVariableName)}get outputKeys(){return this.llmChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),this.llmChain=e.llmChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey}_prepInputs(e){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:t,...r}=e,i=t.map(({pageContent:e})=>e),n=i.join("\n\n");return{...r,[this.documentVariableName]:n}}async _call(e,t){let r=await this.llmChain.call(this._prepInputs(e),t?.getChild("combine_documents"));return r}_chainType(){return"stuff_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw Error("Missing llm_chain");return new s({llmChain:await n.LLMChain.deserialize(e.llm_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize()}}}class o extends i.l{get inputKeys(){return[this.inputKey,...this.combineDocumentChain.inputKeys]}get outputKeys(){return this.combineDocumentChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"ensureMapStep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"combineDocumentChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=e.llmChain,this.combineDocumentChain=e.combineDocumentChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.ensureMapStep=e.ensureMapStep??this.ensureMapStep,this.inputKey=e.inputKey??this.inputKey,this.maxTokens=e.maxTokens??this.maxTokens,this.maxIterations=e.maxIterations??this.maxIterations,this.returnIntermediateSteps=e.returnIntermediateSteps??!1}async _call(e,t){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:r,...i}=e,n=r,a=[];for(let e=0;e<this.maxIterations;e+=1){let r=n.map(e=>({[this.documentVariableName]:e.pageContent,...i})),s=0!==e||!this.ensureMapStep;if(s){let e=await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({[this.combineDocumentChain.inputKey]:n,...i})),t=await this.combineDocumentChain.llmChain.llm.getNumTokens(e),r=t<this.maxTokens;if(r)break}let o=await this.llmChain.apply(r,t?Array.from({length:r.length},(e,r)=>t.getChild(`map_${r+1}`)):void 0),{outputKey:u}=this.llmChain;this.returnIntermediateSteps&&(a=a.concat(o.map(e=>e[u]))),n=o.map(e=>({pageContent:e[u],metadata:{}}))}let s={[this.combineDocumentChain.inputKey]:n,...i},o=await this.combineDocumentChain.call(s,t?.getChild("combine_documents"));return this.returnIntermediateSteps?{...o,intermediateSteps:a}:o}_chainType(){return"map_reduce_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw Error("Missing llm_chain");if(!e.combine_document_chain)throw Error("Missing combine_document_chain");return new o({llmChain:await n.LLMChain.deserialize(e.llm_chain),combineDocumentChain:await s.deserialize(e.combine_document_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),combine_document_chain:this.combineDocumentChain.serialize()}}}class u extends i.l{get defaultDocumentPrompt(){return new a.PromptTemplate({inputVariables:["page_content"],template:"{page_content}"})}get inputKeys(){return[...new Set([this.inputKey,...this.llmChain.inputKeys,...this.refineLLMChain.inputKeys])].filter(e=>e!==this.documentVariableName&&e!==this.initialResponseName)}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output_text"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"initialResponseName",{enumerable:!0,configurable:!0,writable:!0,value:"existing_answer"}),Object.defineProperty(this,"refineLLMChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentPrompt",{enumerable:!0,configurable:!0,writable:!0,value:this.defaultDocumentPrompt}),this.llmChain=e.llmChain,this.refineLLMChain=e.refineLLMChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.documentPrompt=e.documentPrompt??this.documentPrompt,this.initialResponseName=e.initialResponseName??this.initialResponseName}async _constructInitialInputs(e,t){let r={page_content:e.pageContent,...e.metadata},i={};this.documentPrompt.inputVariables.forEach(e=>{i[e]=r[e]});let n={[this.documentVariableName]:await this.documentPrompt.format({...i})},a={...n,...t};return a}async _constructRefineInputs(e,t){let r={page_content:e.pageContent,...e.metadata},i={};this.documentPrompt.inputVariables.forEach(e=>{i[e]=r[e]});let n={[this.documentVariableName]:await this.documentPrompt.format({...i})},a={[this.initialResponseName]:t,...n};return a}async _call(e,t){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:r,...i}=e,n=await this._constructInitialInputs(r[0],i),a=await this.llmChain.predict({...n},t?.getChild("answer")),s=[a];for(let e=1;e<r.length;e+=1){let n=await this._constructRefineInputs(r[e],a),o={...n,...i};a=await this.refineLLMChain.predict({...o},t?.getChild("refine")),s.push(a)}return{[this.outputKey]:a}}_chainType(){return"refine_documents_chain"}static async deserialize(e){let t=e.llm_chain;if(!t)throw Error("Missing llm_chain");let r=e.refine_llm_chain;if(!r)throw Error("Missing refine_llm_chain");return new u({llmChain:await n.LLMChain.deserialize(t),refineLLMChain:await n.LLMChain.deserialize(r)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),refine_llm_chain:this.refineLLMChain.serialize()}}}},1638:function(e,t,r){"use strict";r.d(t,{LLMChain:function(){return s}});var i=r(5185),n=r(9144),a=r(3851);class s extends i.l{get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,this.llm=e.llm,this.outputKey=e.outputKey??this.outputKey,this.outputParser=e.outputParser??this.outputParser,this.prompt.outputParser){if(this.outputParser)throw Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}async _getFinalOutput(e,t,r){let i=e[0].text;return this.outputParser?await this.outputParser.parseWithPrompt(i,t,r?.getChild()):i}call(e,t){return super.call(e,t)}async _call(e,t){let r={...e},i={};for(let t of this.llm.callKeys)t in e&&(i[t]=e[t],delete r[t]);let n=await this.prompt.formatPromptValue(r),{generations:a}=await this.llm.generatePrompt([n],i,t?.getChild());return{[this.outputKey]:await this._getFinalOutput(a[0],n,t)}}async predict(e,t){let r=await this.call(e,t);return r[this.outputKey]}_chainType(){return"llm"}static async deserialize(e){let{llm:t,prompt:r}=e;if(!t)throw Error("LLMChain must have llm");if(!r)throw Error("LLMChain must have prompt");return new s({llm:await a.qV.deserialize(t),prompt:await n.dy.deserialize(r)})}serialize(){return{_type:`${this._chainType()}_chain`,llm:this.llm.serialize(),prompt:this.prompt.serialize()}}}},1612:function(e,t,r){"use strict";r.d(t,{cf:function(){return p}});var i=r(1638),n=r(1909),a=r(4201),s=r(8003);class o{async getPromptAsync(e,t){let r=this.getPrompt(e);return r.partial(t?.partialVariables??{})}}let u=new a.PromptTemplate({template:"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:",inputVariables:["context","question"]}),l=`Use the following pieces of context to answer the users question. 
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}`,c=[s.ov.fromTemplate(l),s.kq.fromTemplate("{question}")],d=s.ks.fromPromptMessages(c),h=new class extends o{constructor(e,t=[]){super(),Object.defineProperty(this,"defaultPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"conditionals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultPrompt=e,this.conditionals=t}getPrompt(e){for(let[t,r]of this.conditionals)if(t(e))return r;return this.defaultPrompt}}(u,[[function(e){return"base_chat_model"===e._modelType()},d]]);r(865);function p(e,t={}){let{prompt:r=h.getPrompt(e),verbose:a}=t,s=new i.LLMChain({prompt:r,llm:e,verbose:a}),o=new n.StuffDocumentsChain({llmChain:s,verbose:a});return o}},4961:function(e,t,r){"use strict";r.d(t,{SequentialChain:function(){return o},SimpleSequentialChain:function(){return u}});var i=r(5185);function n(e,t){let r=new Set;for(let i of t)e.has(i)&&r.add(i);return r}function a(e,t){let r=new Set(e);for(let e of t)r.delete(e);return r}function s(e){return Array.from(e).map(e=>`"${e}"`).join(", ")}class o extends i.l{get inputKeys(){return this.inputVariables}get outputKeys(){return this.outputVariables}constructor(e){if(super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.inputVariables=e.inputVariables,this.outputVariables=e.outputVariables??[],this.outputVariables.length>0&&e.returnAll)throw Error("Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.");this.returnAll=e.returnAll??!1,this._validateChains()}_validateChains(){if(0===this.chains.length)throw Error("Sequential chain must have at least one chain.");let e=this.memory?.memoryKeys??[],t=new Set(this.inputKeys),r=new Set(e),i=n(t,r);if(i.size>0)throw Error(`The following keys: ${s(i)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);let o=function(e,t){let r=new Set(e);for(let e of t)r.add(e);return r}(t,r);for(let e of this.chains){let t=a(new Set(e.inputKeys),o);if(t.size>0)throw Error(`Missing variables for chain "${e._chainType()}": ${s(t)}. Only got the following variables: ${s(o)}.`);let r=new Set(e.outputKeys),i=n(o,r);if(i.size>0)throw Error(`The following output variables for chain "${e._chainType()}" are overlapping: ${s(i)}. This can lead to unexpected behaviour.`);for(let e of r)o.add(e)}if(0===this.outputVariables.length){if(this.returnAll){let e=a(o,t);this.outputVariables=Array.from(e)}else this.outputVariables=this.chains[this.chains.length-1].outputKeys}else{let e=a(new Set(this.outputVariables),new Set(o));if(e.size>0)throw Error(`The following output variables were expected to be in the final chain output but were not found: ${s(e)}.`)}}async _call(e,t){let r={},i=0;for(let n of this.chains)for(let a of(i+=1,Object.keys(r=await n.call(e,t?.getChild(`step_${i}`)))))e[a]=r[a];let n={};for(let t of this.outputVariables)n[t]=e[t];return n}_chainType(){return"sequential_chain"}static async deserialize(e){let t=[],r=e.input_variables,n=e.output_variables,a=e.chains;for(let e of a){let r=await i.l.deserialize(e);t.push(r)}return new o({chains:t,inputVariables:r,outputVariables:n})}serialize(){let e=[];for(let t of this.chains)e.push(t.serialize());return{_type:this._chainType(),input_variables:this.inputVariables,output_variables:this.outputVariables,chains:e}}}class u extends i.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),Object.defineProperty(this,"trimOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.trimOutputs=e.trimOutputs??!1,this._validateChains()}_validateChains(){for(let e of this.chains){if(1!==e.inputKeys.length)throw Error(`Chains used in SimpleSequentialChain should all have one input, got ${e.inputKeys.length} for ${e._chainType()}.`);if(1!==e.outputKeys.length)throw Error(`Chains used in SimpleSequentialChain should all have one output, got ${e.outputKeys.length} for ${e._chainType()}.`)}}async _call(e,t){let r=e[this.inputKey],i=0;for(let e of this.chains)i+=1,r=await e.run(r,t?.getChild(`step_${i}`)),this.trimOutputs&&(r=r.trim()),await t?.handleText(r);return{[this.outputKey]:r}}_chainType(){return"simple_sequential_chain"}static async deserialize(e){let t=[],r=e.chains;for(let e of r){let r=await i.l.deserialize(e);t.push(r)}return new u({chains:t})}serialize(){let e=[];for(let t of this.chains)e.push(t.serialize());return{_type:this._chainType(),chains:e}}}},4118:function(e,t,r){"use strict";r.d(t,{VectorDBQAChain:function(){return a}});var i=r(5185),n=r(1612);class a extends i.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"query"}),Object.defineProperty(this,"vectorstore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.vectorstore=e.vectorstore,this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.k=e.k??this.k,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw Error(`Question key ${this.inputKey} not found.`);let r=e[this.inputKey],i=await this.vectorstore.similaritySearch(r,this.k,e.filter),n=await this.combineDocumentsChain.call({question:r,input_documents:i},t?.getChild("combine_documents"));return this.returnSourceDocuments?{...n,sourceDocuments:i}:n}_chainType(){return"vector_db_qa"}static async deserialize(e,t){if(!("vectorstore"in t))throw Error("Need to pass in a vectorstore to deserialize VectorDBQAChain");let{vectorstore:r}=t;if(!e.combine_documents_chain)throw Error("VectorDBQAChain must have combine_documents_chain in serialized data");return new a({combineDocumentsChain:await i.l.deserialize(e.combine_documents_chain),k:e.k,vectorstore:r})}serialize(){return{_type:this._chainType(),combine_documents_chain:this.combineDocumentsChain.serialize(),k:this.k}}static fromLLM(e,t,r){let i=(0,n.cf)(e);return new this({vectorstore:t,combineDocumentsChain:i,...r})}}},3371:function(e,t,r){"use strict";r.r(t),r.d(t,{ChatOpenAI:function(){return y},PromptLayerChatOpenAI:function(){return g}});var i=r(1085),n=r(7299),a=r(868),s=r(454),o=r(3851),u=r(251);class l extends o.qV{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}async generate(e,t,r){let i;let n=[],a=[];i=Array.isArray(t)?{stop:t}:t?.timeout&&!t.signal?{...t,signal:AbortSignal.timeout(t.timeout)}:t??{};let o=await u.Ye.configure(r,this.callbacks,i.tags,this.tags,{verbose:this.verbose}),l={options:i,invocation_params:this?.invocationParams()},c=await o?.handleChatModelStart(this.toJSON(),e,void 0,void 0,l);try{let t=await Promise.all(e.map(e=>this._generate(e,i,c)));for(let e of t)e.llmOutput&&a.push(e.llmOutput),n.push(e.generations)}catch(e){throw await c?.handleLLMError(e),e}let d={generations:n,llmOutput:a.length?this._combineLLMOutput?.(...a):void 0};return await c?.handleLLMEnd(d),Object.defineProperty(d,s.WH,{value:c?{runId:c?.runId}:void 0,configurable:!0}),d}invocationParams(){return{}}_modelType(){return"base_chat_model"}async generatePrompt(e,t,r){let i=e.map(e=>e.toChatMessages());return this.generate(i,t,r)}async call(e,t,r){let i=await this.generate([e],t,r),n=i.generations;return n[0][0].message}async callPrompt(e,t,r){let i=e.toChatMessages();return this.call(i,t,r)}async predictMessages(e,t,r){return this.call(e,t,r)}async predict(e,t,r){let i=new s.Z(e),n=await this.call([i],t,r);return n.text}}var c=r(6875);let d=async(e,t,r,i,n,a,s,o,u)=>{let l=await e.call(fetch,"https://api.promptlayer.com/track-request",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({function_name:t,provider:"langchain",args:r,kwargs:i,tags:n,request_response:a,request_start_time:Math.floor(s/1e3),request_end_time:Math.floor(o/1e3),api_key:u})});return l.json()};var h=r(2210);function p(e){return{name:e.name,description:e.description,parameters:(0,h.Y_)(e.schema)}}var f=r(2040);function m(e){switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";default:throw Error(`Unknown message type: ${e}`)}}class y extends l{get callKeys(){return["stop","signal","timeout","options","functions","tools"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=e?.openAIApiKey??(0,n.lS)("OPENAI_API_KEY"),i=e?.azureOpenAIApiKey??(0,n.lS)("AZURE_OPENAI_API_KEY");if(!i&&!r)throw Error("(Azure) OpenAI API key not found");let a=e?.azureOpenAIApiInstanceName??(0,n.lS)("AZURE_OPENAI_API_INSTANCE_NAME"),s=e?.azureOpenAIApiDeploymentName??(0,n.lS)("AZURE_OPENAI_API_DEPLOYMENT_NAME"),o=e?.azureOpenAIApiVersion??(0,n.lS)("AZURE_OPENAI_API_VERSION");if(this.modelName=e?.modelName??this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stop,this.streaming=e?.streaming??!1,this.azureOpenAIApiVersion=o,this.azureOpenAIApiKey=i,this.azureOpenAIApiInstanceName=a,this.azureOpenAIApiDeploymentName=s,this.streaming&&this.n>1)throw Error("Cannot stream results when n > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:r,...t,...e?.configuration}}invocationParams(){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:this.stop,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,r){let i={};if(this.stop&&t?.stop)throw Error("Stop found in input and default params");let n=this.invocationParams();n.stop=t?.stop??n.stop,n.functions=t?.functions??(t?.tools?t?.tools.map(p):void 0),n.function_call=t?.function_call;let o=e.map(e=>({role:m(e._getType()),content:e.text,name:e.name})),u=n.stream?await new Promise((e,i)=>{let s;let u=!1,l=!1;this.completionWithRetry({...n,messages:o},{signal:t?.signal,...t?.options,adapter:a.Z,responseType:"stream",onmessage:t=>{if(t.data?.trim?.()==="[DONE]")l||(l=!0,e(s));else{let i=JSON.parse(t.data);for(let e of(s||(s={id:i.id,object:i.object,created:i.created,model:i.model,choices:[]}),i.choices))if(null!=e){let t=s.choices.find(t=>t.index===e.index);t||(t={index:e.index,finish_reason:e.finish_reason??void 0},s.choices[e.index]=t),t.message||(t.message={role:e.delta?.role,content:""}),e.delta.function_call&&!t.message.function_call&&(t.message.function_call={name:"",arguments:""}),t.message.content+=e.delta?.content??"",t.message.function_call&&(t.message.function_call.name+=e.delta?.function_call?.name??"",t.message.function_call.arguments+=e.delta?.function_call?.arguments??""),r?.handleLLMNewToken(e.delta?.content??"")}!l&&i.choices.every(e=>null!=e.finish_reason)&&(l=!0,e(s))}}}).catch(e=>{u||(u=!0,i(e))})}):await this.completionWithRetry({...n,messages:o},{signal:t?.signal,...t?.options}),{completion_tokens:l,prompt_tokens:c,total_tokens:d}=u.usage??{};l&&(i.completionTokens=(i.completionTokens??0)+l),c&&(i.promptTokens=(i.promptTokens??0)+c),d&&(i.totalTokens=(i.totalTokens??0)+d);let h=[];for(let e of u.choices){let t=e.message?.content??"";h.push({text:t,message:function(e){switch(e.role){case"user":return new s.Z(e.content||"");case"assistant":return new s.Ck(e.content||"",{function_call:e.function_call});case"system":return new s.w(e.content||"");default:return new s.J(e.content||"",e.role??"unknown")}}(e.message??{role:"assistant"})})}return{generations:h,llmOutput:{tokenUsage:i}}}async getNumTokensFromMessages(e){let t=0,r=0,i=0;"gpt-3.5-turbo"===(0,c._i)(this.modelName)?(r=4,i=-1):(0,c._i)(this.modelName).startsWith("gpt-4")&&(r=3,i=1);let n=await Promise.all(e.map(async e=>{let n=await this.getNumTokens(e.text),a=await this.getNumTokens(m(e._getType())),s=void 0!==e.name?i+await this.getNumTokens(e.name):0,o=n+r+a+s;return t+=o,o}));return{totalCount:t+=3,countPerMessage:n}}async completionWithRetry(e,t){if(!this.client){let e=this.azureOpenAIApiKey?`https://${this.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${this.azureOpenAIApiDeploymentName}`:this.clientConfig.basePath,t=new i.Configuration({...this.clientConfig,basePath:e,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new i.OpenAIApi(t)}let r={adapter:(0,n.UG)()?void 0:a.Z,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(r.headers={"api-key":this.azureOpenAIApiKey,...r.headers},r.params={"api-version":this.azureOpenAIApiVersion,...r.params}),this.caller.call(this.client.createChatCompletion.bind(this.client),e,r).then(e=>e.data)}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}class g extends y{constructor(e){super(e),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.promptLayerApiKey=e?.promptLayerApiKey??(void 0!==f?f.env?.PROMPTLAYER_API_KEY:void 0),this.plTags=e?.plTags??[],this.returnPromptLayerId=e?.returnPromptLayerId??!1}async _generate(e,t,r){let i;let n=Date.now();i=Array.isArray(t)?{stop:t}:t?.timeout&&!t.signal?{...t,signal:AbortSignal.timeout(t.timeout)}:t??{};let a=await super._generate(e,i,r),s=Date.now(),o=e=>{let t;if("human"===e._getType())t={role:"user",content:e.text};else if("ai"===e._getType())t={role:"assistant",content:e.text};else if("system"===e._getType())t={role:"system",content:e.text};else if("generic"===e._getType())t={role:e.role,content:e.text};else throw Error(`Got unknown type ${e}`);return t},u=(e,t)=>{let r={...this.invocationParams(),model:this.modelName};if(t?.stop&&Object.keys(r).includes("stop"))throw Error("`stop` found in both the input and default params.");let i=e.map(e=>o(e));return i};for(let t=0;t<a.generations.length;t+=1){let r;let o=a.generations[t],l=u(e,i),c=[{content:o.text,role:m(o.message._getType())}],h=await d(this.caller,"langchain.PromptLayerChatOpenAI",l,this._identifyingParams(),this.plTags,c,n,s,this.promptLayerApiKey);!0===this.returnPromptLayerId&&(!0===h.success&&(r=h.request_id),o.generationInfo&&"object"==typeof o.generationInfo||(o.generationInfo={}),o.generationInfo.promptLayerRequestId=r)}return a}}},5395:function(e,t,r){"use strict";r.d(t,{i:function(){return s}});var i=r(9380);function n(e,t){return t?.[e]||i(e)}function a(e){return Array.isArray(e)?[...e]:{...e}}r(2204);class s{get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable||this.lc_kwargs instanceof s||"object"!=typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let e={},t={},r=Object.keys(this.lc_kwargs).reduce((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(t,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return{lc:1,type:"constructor",id:[...this.lc_namespace,this.constructor.name],kwargs:function(e,t,r){let i={};for(let n in e)Object.hasOwn(e,n)&&(i[t(n,r)]=e[n]);return i}(this.lc_secrets?function(e,t){let r=a(e);for(let[e,i]of Object.entries(t)){let[t,...n]=e.split(".").reverse(),s=r;for(let e of n.reverse()){if(void 0===s[e])break;s[e]=a(s[e]),s=s[e]}void 0!==s[t]&&(s[t]={lc:1,type:"secret",id:[i]})}return r}(r,t):r,n,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:[...this.lc_namespace,this.constructor.name]}}}},2365:function(e,t,r){"use strict";r.d(t,{d9:function(){return n},fF:function(){return i},zs:function(){return a}});class i{}let n=(e,t)=>{if(void 0!==t)return e[t];let r=Object.keys(e);if(1===r.length)return e[r[0]];throw Error(`input values have ${r.length} keys, you must specify an input key or pass only 1 key as input`)};function a(e,t="Human",r="AI"){let i=[];for(let n of e){let e;if("human"===n._getType())e=t;else if("ai"===n._getType())e=r;else if("system"===n._getType())e="System";else if("generic"===n._getType())e=n.role;else throw Error(`Got unsupported message type: ${n}`);i.push(`${e}: ${n.text}`)}return i.join("\n")}},3090:function(e,t,r){"use strict";r.d(t,{s:function(){return a}});var i=r(2365),n=r(3213);class a extends n.B{constructor(e){super({chatHistory:e?.chatHistory,returnMessages:e?.returnMessages??!1,inputKey:e?.inputKey,outputKey:e?.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),this.humanPrefix=e?.humanPrefix??this.humanPrefix,this.aiPrefix=e?.aiPrefix??this.aiPrefix,this.memoryKey=e?.memoryKey??this.memoryKey}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(e){let t=await this.chatHistory.getMessages();if(this.returnMessages){let e={[this.memoryKey]:t};return e}let r={[this.memoryKey]:(0,i.zs)(t,this.humanPrefix,this.aiPrefix)};return r}}},3213:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var i=r(2365),n=r(3287);class a extends i.fF{constructor(e){super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=e?.chatHistory??new n.V,this.returnMessages=e?.returnMessages??this.returnMessages,this.inputKey=e?.inputKey??this.inputKey,this.outputKey=e?.outputKey??this.outputKey}async saveContext(e,t){await this.chatHistory.addUserMessage((0,i.d9)(e,this.inputKey)),await this.chatHistory.addAIChatMessage((0,i.d9)(t,this.outputKey))}async clear(){await this.chatHistory.clear()}}},9144:function(e,t,r){"use strict";r.d(t,{Al:function(){return o},dy:function(){return s}});var i=r(454),n=r(5395);class a extends i.MJ{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new i.Z(this.value)]}}class s extends n.i{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:{}});let{inputVariables:t}=e;if(t.includes("stop"))throw Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){let t=this.partialVariables??{},r={};for(let[e,i]of Object.entries(t))"string"==typeof i?r[e]=i:r[e]=await i();let i={...r,...e};return i}serialize(){throw Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{let{PromptTemplate:t}=await Promise.resolve().then(r.bind(r,4201));return t.deserialize(e)}case void 0:{let{PromptTemplate:t}=await Promise.resolve().then(r.bind(r,4201));return t.deserialize({...e,_type:"prompt"})}case"few_shot":{let{FewShotPromptTemplate:t}=await Promise.resolve().then(r.bind(r,8382));return t.deserialize(e)}default:throw Error(`Invalid prompt type in config: ${e._type}`)}}}class o extends s{async formatPromptValue(e){let t=await this.format(e);return new a(t)}}},8003:function(e,t,r){"use strict";r.d(t,{ax:function(){return l},gc:function(){return p},kq:function(){return h},ks:function(){return m},ov:function(){return f}});var i=r(454),n=r(5395),a=r(9144),s=r(4201);class o extends n.i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class u extends i.MJ{constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return JSON.stringify(this.messages)}toChatMessages(){return this.messages}}class l extends o{constructor(e){"string"==typeof e&&(e={variableName:e}),super(e),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=e.variableName}get inputVariables(){return[this.variableName]}formatMessages(e){return Promise.resolve(e[this.variableName])}}class c extends o{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}class d extends a.dy{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){let t=await this.formatMessages(e);return new u(t)}}class h extends c{async format(e){return new i.Z(await this.prompt.format(e))}static fromTemplate(e){return new this(s.PromptTemplate.fromTemplate(e))}}class p extends c{async format(e){return new i.Ck(await this.prompt.format(e))}static fromTemplate(e){return new this(s.PromptTemplate.fromTemplate(e))}}class f extends c{async format(e){return new i.w(await this.prompt.format(e))}static fromTemplate(e){return new this(s.PromptTemplate.fromTemplate(e))}}class m extends d{get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let e=new Set;for(let t of this.promptMessages)for(let r of t.inputVariables)e.add(r);let t=new Set(this.partialVariables?this.inputVariables.concat(Object.keys(this.partialVariables)):this.inputVariables),r=new Set([...t].filter(t=>!e.has(t)));if(r.size>0)throw Error(`Input variables \`${[...r]}\` are not used in any of the prompt messages.`);let i=new Set([...e].filter(e=>!t.has(e)));if(i.size>0)throw Error(`Input variables \`${[...i]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async formatMessages(e){let t=await this.mergePartialAndUserVariables(e),r=[];for(let e of this.promptMessages){let i=e.inputVariables.reduce((e,r)=>{if(!(r in t))throw Error(`Missing value for input variable \`${r}\``);return e[r]=t[r],e},{}),n=await e.formatMessages(i);r=r.concat(n)}return r}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new m(t)}static fromPromptMessages(e){let t=e.reduce((e,t)=>e.concat(t instanceof m?t.promptMessages:[t]),[]),r=e.reduce((e,t)=>t instanceof m?Object.assign(e,t.partialVariables):e,Object.create(null)),i=new Set;for(let e of t)for(let t of e.inputVariables)t in r||i.add(t);return new m({inputVariables:[...i],promptMessages:t,partialVariables:r})}}},8382:function(e,t,r){"use strict";r.d(t,{FewShotPromptTemplate:function(){return s}});var i=r(9144),n=r(1203),a=r(4201);class s extends i.Al{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),void 0!==this.examples&&void 0!==this.exampleSelector)throw Error("Only one of 'examples' and 'example_selector' should be provided");if(void 0===this.examples&&void 0===this.exampleSelector)throw Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,n.af)(this.prefix+this.suffix,this.templateFormat,e)}}_getPromptType(){return"few_shot"}async getExamples(e){if(void 0!==this.examples)return this.examples;if(void 0!==this.exampleSelector)return this.exampleSelector.selectExamples(e);throw Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new s(t)}async format(e){let t=await this.mergePartialAndUserVariables(e),r=await this.getExamples(t),i=await Promise.all(r.map(e=>this.examplePrompt.format(e))),a=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return(0,n.SM)(a,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw Error("Serializing an example selector is not currently supported");if(void 0!==this.outputParser)throw Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){let t;let{example_prompt:r}=e;if(!r)throw Error("Missing example prompt");let i=await a.PromptTemplate.deserialize(r);if(Array.isArray(e.examples))t=e.examples;else throw Error("Invalid examples format. Only list or string are supported.");return new s({inputVariables:e.input_variables,examplePrompt:i,examples:t,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}},865:function(e,t,r){"use strict";r.d(t,{gc:function(){return n.gc},ks:function(){return n.ks},kq:function(){return n.kq},ax:function(){return n.ax},Pf:function(){return i.PromptTemplate},ov:function(){return n.ov}}),r(9144);var i=r(4201);r(8382);var n=r(8003);r(1203)},4201:function(e,t,r){"use strict";r.d(t,{PromptTemplate:function(){return a}});var i=r(9144),n=r(1203);class a extends i.Al{constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,n.af)(this.template,this.templateFormat,e)}}_getPromptType(){return"prompt"}async format(e){let t=await this.mergePartialAndUserVariables(e);return(0,n.SM)(this.template,this.templateFormat,t)}static fromExamples(e,t,r,i="\n\n",n=""){let s=[n,...e,t].join(i);return new a({inputVariables:r,template:s})}static fromTemplate(e,{templateFormat:t="f-string",...r}={}){let i=new Set;return(0,n.$M)(e,t).forEach(e=>{"variable"===e.type&&i.add(e.name)}),new a({inputVariables:[...i],templateFormat:t,template:e,...r})}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new a(t)}serialize(){if(void 0!==this.outputParser)throw Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw Error("Prompt template must have a template");let t=new a({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format});return t}}},1203:function(e,t,r){"use strict";r.d(t,{$M:function(){return o},SM:function(){return s},af:function(){return u}});let i=e=>{let t=e.split(""),r=[],i=(e,r)=>{for(let i=r;i<t.length;i+=1)if(e.includes(t[i]))return i;return -1},n=0;for(;n<t.length;)if("{"===t[n]&&n+1<t.length&&"{"===t[n+1])r.push({type:"literal",text:"{"}),n+=2;else if("}"===t[n]&&n+1<t.length&&"}"===t[n+1])r.push({type:"literal",text:"}"}),n+=2;else if("{"===t[n]){let e=i("}",n);if(e<0)throw Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(n+1,e).join("")}),n=e+1}else if("}"===t[n])throw Error("Single '}' in template.");else{let e=i("{}",n),a=(e<0?t.slice(n):t.slice(n,e)).join("");r.push({type:"literal",text:a}),n=e<0?t.length:e}return r},n={"f-string":(e,t)=>i(e).reduce((e,r)=>{if("variable"===r.type){if(r.name in t)return e+t[r.name];throw Error(`Missing value for input ${r.name}`)}return e+r.text},""),jinja2:(e,t)=>""},a={"f-string":i,jinja2:e=>[]},s=(e,t,r)=>n[t](e,r),o=(e,t)=>a[t](e),u=(e,t,r)=>{if(!(t in n)){let e=Object.keys(n);throw Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${e}`)}try{let i=r.reduce((e,t)=>(e[t]="foo",e),{});s(e,t,i)}catch{throw Error("Invalid prompt schema.")}}},454:function(e,t,r){"use strict";r.d(t,{Ck:function(){return o},J:function(){return l},MJ:function(){return c},WH:function(){return n},Z:function(){return s},oV:function(){return d},w:function(){return u}});var i=r(5395);let n="__run";class a{constructor(e,t){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this.text=e,this.additional_kwargs=t||{}}toJSON(){return{type:this._getType(),data:{content:this.text,role:"role"in this?this.role:void 0,name:this.name,additional_kwargs:this.additional_kwargs}}}}class s extends a{_getType(){return"human"}}class o extends a{_getType(){return"ai"}}class u extends a{_getType(){return"system"}}class l extends a{constructor(e,t){super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t}_getType(){return"generic"}}class c extends i.i{}class d extends i.i{addUserMessage(e){return this.addMessage(new s(e))}addAIChatMessage(e){return this.addMessage(new o(e))}}},3287:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});var i=r(454);class n extends i.oV{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=e??[]}async getMessages(){return this.messages}async addMessage(e){this.messages.push(e)}async clear(){this.messages=[]}}},6893:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});var i=r(4153),n=r(5853);let a=[400,401,403,404,405,406,407,408,409];class s{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;let t=n.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>i(()=>e(...t).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError")||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status;if(t&&a.includes(+t))throw e},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((t,r)=>{e.signal?.addEventListener("abort",()=>{r(Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(e=>e.ok?e:Promise.reject(e)))}}},868:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var i=r(8741);let n="text/event-stream";async function a(e,t){let r=e.getReader();for(;;){let e=await r.read();if(e.done){t(new Uint8Array,!0);break}t(e.value)}}function s(){return{data:"",event:"",id:"",retry:void 0}}function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u(e){return Array.isArray(e)}function l(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}}async function c(e){let t=function(e){var t,r,i;let a=new Headers(e.headers);if(e.auth){let t=e.auth.username||"",r=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";a.set("Authorization",`Basic ${btoa(`${t}:${r}`)}`)}let s=e.method.toUpperCase(),c={headers:a,method:s};if("GET"!==s&&"HEAD"!==s){c.body=e.data,t=c.body,"[object FormData]"===toString.call(t)&&("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document&&a.delete("Content-Type")}"string"==typeof c.body&&(c.body=new TextEncoder().encode(c.body)),e.mode&&(c.mode=e.mode),e.cache&&(c.cache=e.cache),e.integrity&&(c.integrity=e.integrity),e.redirect&&(c.redirect=e.redirect),e.referrer&&(c.referrer=e.referrer),e.timeout&&e.timeout>0&&(c.signal=AbortSignal.timeout(e.timeout)),e.signal&&(c.signal=e.signal),void 0!==e.withCredentials&&(c.credentials=e.withCredentials?"include":"omit"),"stream"===e.responseType&&c.headers.set("Accept",n);let d=(r=e.baseURL,i=e.url,r&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)?i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r:i),h=function(e,t,r){if(!t)return e;if(r)i=r(t);else if("[object URLSearchParams]"===toString.call(t))i=t.toString();else{var i,n=[];l(t,function(e,t){null!=e&&(u(e)?t=`${t}[]`:e=[e],l(e,function(e){var r,i;(r=e,"[object Date]"===toString.call(r))?e=e.toISOString():null!==(i=e)&&"object"==typeof i&&(e=JSON.stringify(e)),n.push(`${o(t)}=${o(e)}`)}))}),i=n.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}(d,e.params,e.paramsSerializer);return new Request(h,c)}(e),r=await d(t,e);return new Promise((t,i)=>{r instanceof Error?i(r):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,i,r):function(e,t,r){let{validateStatus:i}=r.config;!r.status||!i||i(r.status)?e(r):t(h(`Request failed with status code ${r.status} and body ${"string"==typeof r.data?r.data:function(e){try{return JSON.stringify(e)}catch(t){return e}}(r.data)}`,r.config,null,r.request,r))}(t,i,r)})}async function d(e,t){let r;try{r=await fetch(e)}catch(r){if(r&&"AbortError"===r.name)return h("Request aborted",t,"ECONNABORTED",e);if(r&&"TimeoutError"===r.name)return h("Request timeout",t,"ECONNABORTED",e);return h("Network Error",t,"ERR_NETWORK",e)}let i={};r.headers.forEach((e,t)=>{i[t]=e});let o={ok:r.ok,status:r.status,statusText:r.statusText,headers:i,config:t,request:e};if(r.status>=200&&204!==r.status){if("stream"===t.responseType){var u;let e,i,l,c;let d=r.headers.get("content-type");if(!d?.startsWith(n)){if(r.status>=400)return d?.startsWith("application/json")?(o.data=await r.json(),o):(o.data=await r.text(),o);throw Error(`Expected content-type to be ${n}, Actual: ${d}`)}await a(r.body,(u=function(e,t,r){let i=s(),n=new TextDecoder;return function(t,r,a){if(a){var o;""===(o=i).data&&""===o.event&&""===o.id&&void 0===o.retry||(e?.(i),i=s());return}if(0===t.length)e?.(i),i=s();else if(r>0){let e=n.decode(t.subarray(0,r)),a=r+(32===t[r+1]?2:1),s=n.decode(t.subarray(a));switch(e){case"data":i.data=i.data?i.data+"\n"+s:s;break;case"event":i.event=s;break;case"id":break;case"retry":{let e=parseInt(s,10);Number.isNaN(e)}}}}}(t.onmessage),c=!1,function(t,r){if(r){u(t,0,!0);return}void 0===e?(e=t,i=0,l=-1):e=function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(e,t);let n=e.length,a=0;for(;i<n;){c&&(10===e[i]&&(a=++i),c=!1);let t=-1;for(;i<n&&-1===t;++i)switch(e[i]){case 58:-1===l&&(l=i-a);break;case 13:c=!0;case 10:t=i}if(-1===t)break;u(e.subarray(a,t),l),a=i,l=-1}a===n?e=void 0:0!==a&&(e=e.subarray(a),i-=a)}))}else switch(t.responseType){case"arraybuffer":o.data=await r.arrayBuffer();break;case"blob":o.data=await r.blob();break;case"json":o.data=await r.json();break;case"formData":o.data=await r.formData();break;default:o.data=await r.text()}}return o}function h(e,t,r,n,a){if(i.AxiosError&&"function"==typeof i.AxiosError)return new i.AxiosError(e,i.AxiosError[r],t,n,a);let s=Error(e);return s.config=t,r&&(s.code=r),s.request=n,s.response=a,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},s}},7299:function(e,t,r){"use strict";let i;r.d(t,{UG:function(){return l},lS:function(){return h},sA:function(){return d}});var n=r(2040);let a=()=>"undefined"!=typeof window&&void 0!==window.document,s=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,o=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),u=()=>"undefined"!=typeof Deno,l=()=>void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node&&!u(),c=()=>a()?"browser":l()?"node":s()?"webworker":o()?"jsdom":u()?"deno":"other";async function d(){if(void 0===i){let e=c();i={library:"langchain-js",runtime:e}}return i}function h(e){try{return void 0!==n?n.env?.[e]:void 0}catch(e){return}}},8796:function(e,t,r){"use strict";r.d(t,{b:function(){return p}});var i,n,a,s=Object.defineProperty,o=r(216),u=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let r=e.bpe_ranks.split("\n").filter(Boolean).reduce((e,t)=>{let[r,i,...n]=t.split(" "),a=Number.parseInt(i,10);return n.forEach((t,r)=>e[t]=a+r),e},{});for(let[e,t]of Object.entries(r)){let r=o.toByteArray(e);this.rankMap.set(r.join(","),t),this.textMap.set(t,r)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((e,[t,r])=>(e[r]=this.textEncoder.encode(t),e),{})}encode(e,t=[],r="all"){let i=RegExp(this.patStr,"ug"),n=u.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set("all"===t?Object.keys(this.specialTokens):t),o=new Set("all"===r?Object.keys(this.specialTokens).filter(e=>!s.has(e)):r);if(o.size>0){let t=u.specialTokenRegex([...o]),r=e.match(t);if(null!=r)throw Error(`The text contains a special token that is not allowed: ${r[0]}`)}let l=0;for(;;){let t=null,r=l;for(;n.lastIndex=r,!(null==(t=n.exec(e))||s.has(t[0]));)r=t.index+1;let o=t?.index??e.length;for(let t of e.substring(l,o).matchAll(i)){let e=this.textEncoder.encode(t[0]),r=this.rankMap.get(e.join(","));if(null!=r){a.push(r);continue}a.push(...function(e,t){return 1===e.length?[t.get(e.join(","))]:(function(e,t){let r=Array.from({length:e.length},(e,t)=>({start:t,end:t+1}));for(;r.length>1;){let i=null;for(let n=0;n<r.length-1;n++){let a=e.slice(r[n].start,r[n+1].end),s=t.get(a.join(","));null!=s&&(null==i||s<i[0])&&(i=[s,n])}if(null!=i){let e=i[1];r[e]={start:r[e].start,end:r[e+1].end},r.splice(e+1,1)}else break}return r})(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(e=>null!=e)}(e,this.rankMap))}if(null==t)break;let u=this.specialTokens[t[0]];a.push(u),l=t.index+t[0].length}return a}decode(e){let t=[],r=0;for(let i=0;i<e.length;++i){let n=e[i],a=this.textMap.get(n)??this.inverseSpecialTokens[n];null!=a&&(t.push(a),r+=a.length)}let i=new Uint8Array(r),n=0;for(let e of t)i.set(e,n),n+=e.length;return this.textDecoder.decode(i)}};i="symbol"!=typeof(a="specialTokenRegex")?a+"":a,n=e=>RegExp(e.map(e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")).join("|"),"g"),i in u?s(u,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[i]=n;var l=r(6893);let c={},d=new l.L({});async function h(e,t){return e in c||(c[e]=d.fetch(`https://tiktoken.pages.dev/js/${e}.json`,{signal:t?.signal}).then(e=>e.json()).catch(t=>{throw delete c[e],t})),new u(await c[e],t?.extendedSpecialTokens)}async function p(e,t){return h(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw Error("Unknown model")}}(e),t)}},9432:function(e,t,r){"use strict";r.d(t,{sW:function(){return i.s}});var i=r(3090);r(1638),r(454),r(3213),r(4201),r(3287),r(6893)},4397:function(e,t,r){"use strict";r.d(t,{ax:function(){return i.ax},kq:function(){return i.kq},ks:function(){return i.ks},ov:function(){return i.ov}});var i=r(865)},4142:function(e,t,r){"use strict";r(454)},1095:function(e){"use strict";e.exports=JSON.parse('{"name":"openai","version":"3.3.0","description":"Node.js library for the OpenAI API","repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"keywords":["openai","open","ai","gpt-3","gpt3"],"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}}]);